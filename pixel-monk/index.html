<!--
    Jan 2022
    1.5.0 alpha 2022
    @nimadez

    # Pixel Monk
    # Vector-based pixel editor application

    # General
    - File I/O
    - Pixelate image *(JPG/PNG)*
    - Export PNG
    - Copy/Paste Base64
    - 4 local storages
    - Undo and redo
    - Support file drag and drop
    - Minimum dependency
    - Single HTML file

    # Drawing
    - 12 Pixel Sizes *(2-24)*
    - Tool: Pencil
    - Tool: Line
    - Tool: Symmetry
    - Tool: Quad Symmetry
    - Tool: Spray *(optional radius)*
    - Tool: Eraser
    - Tool: Rectangle Eraser
    - Effector: Cyclone *(optional velocity)*
    - Effector: Gravity *(optional velocity)*
    - Xform: Transform *(pivot and center)*
    - Magnifier

    # Painting
    - Tool: Paint
    - Tool: Bucket
    - Tool: Eyedropper
    - Color Picker *(html color picker)*
    - Dynamic Color Palette *(collect unique colors)*
    - Filters: Grayscale, Sepia, Invert

    # Tips
    - Pixel is a vector object
    - Choose pixel size wisely *(if accuracy is important)*
    - Hide Dynamic Color Palette while manipulating large amounts of pixels

    # Supported Browsers
    - Google Chrome
    - Google Chrome for mobile devices
    <br><sub>* *Tablet recommended for best experience*</sub>

    # Keyboard Shortcuts
    | M         | Toggle Magnifier
    | CTRL+Z    | Undo (previous memory)
    | CTRL+X    | Redo (next memory)

    # History
    A mental breakdown gave birth to this thing!

    # License
    Code released under the [MIT license](https://github.com/nimadez/demo/blob/main/LICENSE).

    # Credits
    - Google Material Icons
    - Droid Sans Font

    [ Code Map ]
    01. Initialize
    02. Pixel
    03. Board
    04. Tool
    05. Helper
    06. Memory
    07. Dynamic Palette
    08. Palette
    09. Projects
    10. Storages
    11. Events
    12. Canvases
    13. User Interface
    14. Functions
    15. Utils

    Layer0: grid canvas, static grid background
    Layer1: board canvas, main drawing board
    Layer2: helper canvas, draw-and-clear helpers
    layer3: magnifier canvas, dynamic magnifier
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="Vector-based pixel editor application">
    <meta name="author" content="@nimadez">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@nimadez">
    <meta name="twitter:creator" content="@nimadez">
    <meta name="twitter:title" content="Pixel Monk">
    <meta name="twitter:description" content="Vector-based pixel editor application">
    <title>Pixel Monk</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAupJREFUWEftl99LFFEUx8+982NVnBV/bP4B9SJasLht0g9YAlkR8i0VBl+tiHoKosAsA+ktiyJQgiiGXhJCKCofUvDHhrpLu6uSv7Z80f3hrrtT2s7OzI3ZB9l2cBwfREEPzMtwv2c+98y555yLYJ8Nad+fbG9nyMaGCxFi2wVPwCEIgaye508CgPaYMoJQFBUVDTl6ezNZAA/PW4GQQQZjpykPALCUSvVdHhi4AQDpsdbWLgtNd5jViplM8OXsbNMbvz+0BZCW5ZFihjG9i/eh0EKP318niuLa1+bmR1aWvW0WYDqRgOczM+5vodAXHYBKCCQzGZAVRefPyrJgoajs++0A0ooCKUnSaWmKghKGAYwQGAL8kWXomJj45Y/Hf+R76XY67U6bLZsn2wEMr6zID73ecQDYzNXXVlSU3Hc4ThdSFN4R4Ekg0Ns/PX0lH2CopeUDxzCNRgCeSGS90+uti8Vi/21gsq3tTEZRhliMC44ADnYENmQZhPl54Wp1te5YJSXpdTFNXzTKgalYLDW1tnbpWlXVYm4OKYpil1T1HUtRFsMImD3Le1YHDieAtuvS0tJzADBiNgIA8FmWZV4rxRzHldM0LQCAexf684lEYjRbivfTDgaA1o5ZhD4SAO03mDJCSKdDELq0xZM8fw8h9MCUEAAQwKhESGOdIKQOXjs2u4s9qwNaJez2+WAhldKx3KypgbOVlYbzwFg4DE+DQZ32hNUKd+12KKLpneeBnkDg1eDy8q18L/0NDW/LLZb6Hdpx8o7HU08IWcrVv3C5ao9z3ACLsXEp1gaSo3ngcEdAm4rTqvq7EONEfhKqADaMUIFREmZUVcUAYQohOVdPEGKBkGMIIXQ0D+gioN0NP83NXfdFo4/NVsLw5ubY92i0SWvHfW73hfFI5FlSkk6Z0a9LEiyKouvn6urwVjfkOK6CoqgaMw60NRjjv/F43KfdDQHAUlZWZldVNZsfZkxRlKAoirF9b8f/ACMa/U5ap5eDAAAAAElFTkSuQmCC">
    <style>
        @font-face {
            font-family: 'DroidSans'; src: url(data:font/truetype;charset=utf-8;base64,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FSERIQEhESMGVv0I/iXLugKPA8n9wwIW/eoCPft1AZNsAcX+OwW2pP48ov34AcYCqAAAAP//AH3+FASYBcsSJgAmAAARBwB6AfwAAAALtgFPKiQYICUBKzUAAAD//wDHAAADvgdzEiYAKAAAEQcAQ/+3AVIAFbQBDAUmAbj/wrQSDAEAJQErNQArNQD//wDHAAADvgdzEiYAKAAAEQcAdgA/AVIAE0ALARgFJgFKDBIBACUBKzUAKzUAAAD//wDHAAADvgdzEiYAKAAAEQcAw//xAVIAFbQBDAUmAbj//bQUDAEAJQErNQArNQD//wDHAAADvgcrEiYAKAAAEQcAav/1AVIAF0ANAgEVBSYCAQEMIAEAJQErNTUAKzU1AAAA//8APgAAAmQHcxImACwAABEHAEP+tQFSABW0AQwFJgG4/6i0EgwBACUBKzUAKzUA//8AUgAAAooHcxImACwAABEHAHb/eAFSABNACwEYBSYBagwSAQAlASs1ACs1AAAA//8AEQAAAqkHcxImACwAABEHAMP/DwFSABNACwEMBSYBAhQMAQAlASs1ACs1AAAA//8AQAAAAncHKxImACwAABEHAGr/DQFSABdADQIBFQUmAgEADCABACUBKzU1ACs1NQAAAAACAC8AAAT8BbYAEAAfAF1AOhoaDhFbCGchICEBGBxaDhAQAQ5kIBsQXxgPAAEPAD8AbwCvAN8A/wAGCABAGh1IAAACHGAOEhdgAgMAP+E/4RE5LyteXXEz4TIBEOYyMi8Q4TJdEPbhETkvMTATMxEhMh4BEhUUAgYEIyERIyU0LgIrAREhFSERMyAAL5gBl5n4rl9gtv73qP6SmAQIQn64dckBUP6wogEIAQwDJQKRXLX+9LC5/um7XgKDYJLVikP+DqL+HQEk//8AxwAABQ4HNRImADEAABEHAMUAiwFSABNACwEgBSYBCiEvCgAlASs1ACs1AAAA//8Aff/sBXEHcxImADIAABEHAEMAVAFSABW0AigFJgK4/6u0LigKACUBKzUAKzUA//8Aff/sBXEHcxImADIAABEHAHYBAgFSABNACwI0BSYCWCguCgAlASs1ACs1AAAA//8Aff/sBXEHcxImADIAABEHAMMArgFSABNACwIoBSYCBTAoCgAlASs1ACs1AAAA//8Aff/sBXEHNRImADIAABEHAMUAfQFS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b3B5cmlnaHQgqSAyMDA3LCBHb29nbGUgQ29ycG9yYXRpb24uAABEAHIAbwBpAGQAIABTAGEAbgBzAABEcm9pZCBTYW5zAABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABBAHMAYwBlAG4AZABlAHIAIAAtACAARAByAG8AaQBkACAAUwBhAG4AcwAAQXNjZW5kZXIgLSBEcm9pZCBTYW5zAABEAHIAbwBpAGQAIABTAGEAbgBzAABEcm9pZCBTYW5zAABWAGUAcgBzAGkAbwBuACAAMQAuADAAMAAgAGIAdQBpAGwAZAAgADEAMQAzAABWZXJzaW9uIDEuMDAgYnVpbGQgMTEzAABEAHIAbwBpAGQAUwBhAG4AcwAARHJvaWRTYW5zAABEAHIAbwBpAGQAIABpAHMAIABhACAAdAByAGEAZABlAG0AYQByAGsAIABvAGYAIABHAG8AbwBnAGwAZQAgAGEAbgBkACAAbQBhAHkAIABiAGUAIAByAGUAZwBpAHMAdABlAHIAZQBkACAAaQBuACAAYwBlAHIAdABhAGkAbgAgAGoAdQByAGkAcwBkAGkAYwB0AGkAbwBuAHMALgAARHJvaWQgaXMgYSB0cmFkZW1hcmsgb2YgR29vZ2xlIGFuZCBtYXkgYmUgcmVnaXN0ZXJlZCBpbiBjZXJ0YWluIGp1cmlzZGljdGlvbnMuAABBAHMAYwBlAG4AZABlAHIAIABDAG8AcgBwAG8AcgBhAHQAaQBvAG4AAEFzY2VuZGVyIENvcnBvcmF0aW9uAABEAHIAbwBpAGQAIABTAGEAbgBzACAAaQBzACAAYQAgAGgAdQBtAGEAbgBpAHMAdAAgAHMAYQBuAHMAIABzAGUAcgBpAGYAIAB0AHkAcABlAGYAYQBjAGUAIABkAGUAcwBpAGcAbgBlAGQAIABmAG8AcgAgAHUAcwBlAHIAIABpAG4AdABlAHIAZgBhAGMAZQBzACAAYQBuAGQAIABlAGwAZQBjAHQAcgBvAG4AaQBjACAAYwBvAG0AbQB1AG4AaQBjAGEAdABpAG8AbgAuAABEcm9pZCBTYW5zIGlzIGEgaHVtYW5pc3Qgc2FucyBzZXJpZiB0eXBlZmFjZSBkZXNpZ25lZCBmb3IgdXNlciBpbnRlcmZhY2VzIGFuZCBlbGVjdHJvbmljIGNvbW11bmljYXRp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AEAAKQBgACkAif/XAJT/1wCV/9cAlv/XAJf/1wCY/9cAmv/XAMkAKQDMACkAFgAP/8MAEf/DACT/7AAs/+wAN//DADn/7AA6/+wAO//sADz/1wA9/+wAgv/sAIP/7ACE/+wAhf/sAIb/7ACH/+wAiP/DAI7/7ACP/+wAkP/sAJH/7ACf/9cAFgAFAD0ACgA9AAwAKQAP/5oAEf+aACIAKQAk/9cAOQAUADoAFAA8ABQAQAApAGAAKQCC/9cAg//XAIT/1wCF/9cAhv/XAIf/1wCI/8MAnwAUAMkAPQDMAD0ADwAFACkACgApACb/7AAq/+wAMv/sADT/7ACJ/+wAlP/sAJX/7ACW/+wAl//sAJj/7ACa/+wAyQApAMwAKQAPAAUAKQAKACkAJv/XACr/1wAy/9cANP/XAIn/1wCU/9cAlf/XAJb/1wCX/9cAmP/XAJr/1wDJACkAzAApABkABf+aAAr/mgAm/+wAKv/sADL/7AA0/+wAN/+FADj/7AA5/64AOv/DADz/mgCJ/+wAlP/sAJX/7ACW/+wAl//sAJj/7ACa/+wAm//sAJz/7ACd/+wAnv/sAJ//mgDJ/5oAzP+aABYAD//DABH/wwAk/+wALP/sADf/wwA5/9cAOv/sADv/1wA8/9cAPf/sAIL/7ACD/+wAhP/sAIX/7ACG/+wAh//sAIj/1wCO/+wAj//sAJD/7ACR/+wAn//XABAAD/8zABH/MwAk/64AJv/sADv/7AA8/+wAPf/XAIL/rgCD/64AhP+uAIX/rgCG/64Ah/+uAIj/cQCJ/+wAn//sABYAD//DABH/wwAk/+wALP/sADf/wwA5/9cAOv/sADv/1wA8/9cAPf/sAIL/7ACD/+wAhP/sAIX/7ACG/+wAh//sAIj/wwCO/+wAj//sAJD/7ACR/+wAn//XAAEAN//sAEoABQBSAAoAUgAP/5oAEP+aABH/mgAiACkAJP+FACb/wwAq/8MAMv/DADT/wwA2/+wANwAUAET/hQBG/4UAR/+FAEj/hQBK/5oAUP+uAFH/rgBS/4UAU/+uAFT/hQBV/64AVv+FAFj/rgBZ/8MAWv/DAFv/wwBc/8MAXf/DAIL/hQCD/4UAhP+FAIX/hQCG/4UAh/+FAIj/cQCJ/8MAlP/DAJX/wwCW/8MAl//DAJj/wwCa/8MAov+FAKP/hQCk/4UApf+FAKb/hQCn/4UAqP+FAKn/hQCq/4UAq/+FAKz/hQCt/4UAs/+uALT/hQC1/4UAtv+FALf/hQC4/4UAuv+FALv/rgC8/64Avf+uAL7/rgC//8MAwf/DAMb/rgDH/5oAyQBSAMwAUgAKAA//1wAR/9cAJP/sAIL/7ACD/+wAhP/sAIX/7ACG/+wAh//sAIj/1wA+AAUAUgAKAFIAD/+aABH/mgAiACkAJP/DACb/1wAq/9cAMv/XADT/1wBE/8MARv/DAEf/wwBI/8MASv/DAFD/1wBR/9cAUv/DAFP/1wBU/8MAVf/XAFb/1wBY/9cAgv/DAIP/wwCE/8MAhf/DAIb/wwCH/8MAiP+FAIn/1wCU/9cAlf/XAJb/1wCX/9cAmP/XAJr/1wCi/8MAo//DAKT/wwCl/8MApv/DAKf/wwCo/8MAqf/DAKr/wwCr/8MArP/DAK3/wwCz/9cAtP/DALX/wwC2/8MAt//DALj/wwC6/8MAu//XALz/1wC9/9cAvv/XAMkAUgDMAFIAPgAFAGYACgBmAA//rgAR/64AJP/XACb/7AAq/+wAMv/sADT/7ABE/9cARv/XAEf/1wBI/9cASv/sAFD/7ABR/+wAUv/XAFP/7ABU/9cAVf/sAFb/1wBY/+wAXf/sAIL/1wCD/9cAhP/XAIX/1wCG/9cAh//XAIj/rgCJ/+wAlP/sAJX/7ACW/+wAl//sAJj/7ACa/+wAov/XAKP/1wCk/9cApf/XAKb/1wCn/9cAqP/XAKn/1wCq/9cAq//XAKz/1wCt/9cAs//sALT/1wC1/9cAtv/XALf/1wC4/9cAuv/XALv/7AC8/+wAvf/sAL7/7ADJAGYAzABmACAABQApAAoAKQAm/9cAKv/XADL/1wA0/9cARv/sAEf/7ABI/+wAUv/sAFT/7ACJ/9cAlP/XAJX/1wCW/9cAl//XAJj/1wCa/9cAqP/sAKn/7ACq/+wAq//sAKz/7ACt/+wAtP/sALX/7AC2/+wAt//sALj/7AC6/+wAyQApAMwAKQBEAAUAUgAKAFIAD/+aABH/mgAiACkAJP+aACb/1wAq/9cAMv/XADT/1wA2/+wARP+aAEb/mgBH/5oASP+aAEr/mgBQ/8MAUf/DAFL/mgBT/8MAVP+aAFX/wwBW/64AWP/DAFv/1wBc/+wAXf/DAIL/mgCD/5oAhP+aAIX/mgCG/5oAh/+aAIj/cQCJ/9cAlP/XAJX/1wCW/9cAl//XAJj/1wCa/9cAov+aAKP/mgCk/5oApf+aAKb/mgCn/5oAqP+aAKn/mgCq/5oAq/+aAKz/mgCt/5oAs//DALT/mgC1/5oAtv+aALf/mgC4/5oAuv+aALv/wwC8/8MAvf/DAL7/wwC//+wAwf/sAMkAUgDMAFIAAQAK/9cABAAFAD0ACgA9AMkAPQDMAD0ACQAFAGYACgBmAFkAFABaABQAXAAUAL8AFADBABQAyQBmAMwAZgAFAAUAKQAKACkASgAUAMkAKQDMACkAAQAK/8MABAAFACkACgApAMkAKQDMACkAAgBb/9cAXf/sAAwABQBmAAoAZgBE/+wASv/sAKL/7ACj/+wApP/sAKX/7ACm/+wAp//sAMkAZgDMAGYABQAFAFIACgBSAFcAFADJAFIAzABSAAUABQBSAAoAUgBJABQAyQBSAMwAUgAMAAUAKQAKACkAUv/XAKj/1wC0/9cAtf/XALb/1wC3/9cAuP/XALr/1wDJACkAzAApAAUABQA9AAoAPQBJABQAyQA9AMwAPQAIAFL/7ACo/+wAtP/sALX/7AC2/+wAt//sALj/7AC6/+wAJwAF/64ACv+uAA3/hQAPAEQAHgBEACL/wwAm/+wAKv/sAC0AXgAy/+wANP/sADf/hQA4/+wAOf/DADr/1wA8/5oAPQA7AEn/7ABX/+wAWf/XAFr/7ABc/9cAgv/XAIn/7ACU/+wAlf/sAJb/7ACX/+wAmP/sAJr/7ACb/+wAnP/sAJ3/7ACe/+wAn/+aAL//1wDB/9cAyf+uAMz/rgAlAAX/rgAK/64ADf+FAA8ARAAeAEQAIv/DACb/7AAq/+wAMv/sADT/7AA3/4UAOP/sADn/wwA6/9cAPP+aAD0AOwBJ/+wAV//sAFn/1wBa/+wAXP/XAIn/7ACU/+wAlf/sAJb/7ACX/+wAmP/sAJr/7ACb/+wAnP/sAJ3/7ACe/+wAn/+aAL//1wDB/9cAyf+uAMz/rgAlAAX/rgAK/64ADf9/AA8ARAAeAEQAIv/XACb/7AAq/+wALQBeADL/7AA0/+wAN/+FADj/7AA5/8MAOv/XADz/mgA9ADsAV//lAFn/1QBa/+UAXP/bAIn/7ACU/+wAlf/sAJb/7ACX/+wAmP/sAJr/7ACb/+wAnP/sAJ3/7ACe/+wAn/+aAL//2wDB/9sAyf+uAMz/rgAnAAX/ZgAK/2YADf9/AA8ARAAeAEQAIv/XACb/7AAq/+wALQBeADL/7AA0/+wAN/+FADj/7AA5/8MAOv/XADz/mgA9ADsAV//lAFn/1QBa/+UAXP/bAIn/7ACU/+wAlf/sAJb/7ACX/+wAmP/sAJr/7ACb/+wAnP/sAJ3/7ACe/+wAn/+aAL//2wDB/9sAyP9mAMn/rgDL/2YAzP+uABIABQApAAoAKQAQ/9cAJv/sADL/7AA0/+wAhP/sAIn/7ACK/+wAj//sAJT/7ACV/+wAlv/sAJf/7ACY/+wAmv/sAMkAKQDMACkAEAAFACkACgApABD/1wAm/+wAMv/sADT/7ACJ/+wAi//sAJT/7ACV/+wAlv/sAJf/7ACY/+wAmv/sAMkAKQDMACkABwAk/+wAgv/sAIP/7ACE/+wAhf/sAIb/7ACH/+wAGwAM/9cAD//DABH/wwAk/+wALP/sAC3/9gA2/+wAN//DADn/1wA6/+wAO//XADz/1wA9/+wAQP/XAGD/1wCC/+wAg//sAIT/7ACF/+wAhv/sAIf/7ACI/9cAjv/sAI//7ACQ/+wAkf/sAJ//1wATAA//1wAR/9cAJP/sADD/7AA9/+wARP/sAIL/7ACD/+wAhP/sAIX/7ACG/+wAh//sAIj/1wCi/+wAo//sAKT/7ACl/+wApv/sAKf/7ABSAAUAUgAJ/8MACgBSAAwAPQANACkAD/+aABD/mgAR/5oAIgApACT/mgAm/9cAKv/XAC3/vgAw/8MAMv/XADT/1wA2/+wANwAnADkAKQA6ABQAQAA9AET/mgBG/5oAR/+aAEj/mgBJ/+UASv+aAFD/wwBR/8MAUv+aAFP/wwBU/5oAVf/DAFb/rgBY/8MAWf/XAFr/7ABb/9cAXP/sAF3/wwBgAD0Agv+aAIP/mgCE/5oAhf+aAIb/mgCH/5oAiP9xAIn/1wCU/9cAlf/XAJb/1wCX/9cAmP/XAJr/1wCi/5oAo/+aAKT/mgCl/5oApv+aAKf/mgCo/5oAqf+aAKr/mgCr/5oArP+aAK3/mgCz/8MAtP+aALX/mgC2/5oAt/+aALj/mgC6/5oAu//DALz/wwC9/8MAvv/DAL//7ADB/+wAyQBSAMwAUgACAAX/mAAK/9cAAwAF/5gACv/XAMz/1wAFAAX/bwAK/28ASf/bAFv/1wBd/+wAAgAF/74ACv++AB4ABQA9AAoAPQAP/74AEf++ACL/tABG//YAR//2AEj/9gBJABQASv/2AFL/9gBU//YAVwAGAKj/9gCp//YAqv/2AKv/9gCs//YArf/2ALT/9gC1//YAtv/2ALf/9gC4//YAuv/2AMkAPQDK/40AzAA9AM3/jQDQAAwABwAFAD0ACgA9AA//vgAR/74ASQAUAMkAPQDMAD0AKQAk/64ALAApADcAUgA5AFIAOgBmADsAKQA8AFIAPQApAEb/wwBH/8MASP/DAEr/1wBS/8MAVP/DAFcAKQBZACkAWgAUAIL/rgCD/64AhP+uAIX/rgCG/64Ah/+uAIj/XACOACkAjwApAJAAKQCRACkAnwBSAKj/wwCp/8MAqv/DAKv/wwCs/8MArf/DALT/wwC1/8MAtv/DALf/wwC4/8MAuv/DAAIAGQAFAAUAAAAKAAsAAQAPABEAAwAkACcABgApACkACgAsACwACwAuAC8ADAAyADUADgA3AD4AEgBEAEYAGgBIAEsAHQBOAE4AIQBQAFIAIgBVAFcAJQBZAF4AKACCAIcALgCJAJIANACUAJgAPgCaAJ8AQwCiAK0ASQCzALgAVQC6AL8AWwDBAMEAYQDGAMgAYgDLAMsAZQABAAAACgAcAB4AAWxhdG4ACAAEAAAAAP//AAAAAAAA)
                format('truetype');
        }
        @font-face {
            font-family: 'Material Icons'; font-style: normal; font-weight: 400;
            src: url(https://nimadez.github.io/voxel-builder/assets/materialicons.woff2)
                format('woff2');
        }
        /* silver, indianred, cadetblue, aquamarine, aqua */
        * { margin: 0; padding: 0; outline: none; }
        html, body { overscroll-behavior-y: contain; user-select: none; overflow: hidden; touch-action: pan-x; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'DroidSans'; cursor: crosshair; position: fixed; width: 100%; height: 100%; }
        a, a:visited { color: cadetblue; text-decoration: none; }
        a:hover { color: aquamarine; }
        button { width: 20px; color: silver; background: none; border: none; cursor: pointer; }
        button:hover, button.selected i { color: indianred; }
        button:disabled { opacity: 0.3; }
        input[type=color] { height: 16px; border: none; vertical-align: middle; border-radius: 10px; }
        input[type=color]::-webkit-color-swatch-wrapper { padding: 0; border-radius: 3px; }
        input[type=color]::-webkit-color-swatch { border: solid 1px #343c49; border-radius: 2px; }
        input[type=color]:hover { cursor: pointer; }
        input[type=range] { accent-color: cadetblue; width: 100%; height: 2px; vertical-align: middle; }
        input[type=range]::-webkit-slider-thumb { transform: scale(0.8); }
        input[type=range]::-webkit-slider-thumb:hover { cursor: pointer; }
        input[type=number] { width: 50px; background: #282c3490; color: silver; border: solid 1px #343c49; padding: 2px; font-size: 10px; border-radius: 2px; text-align: left; }
        input[type=number]:hover { color: indianred; border: solid 1px #43495a; }
        input[type=number]:disabled { opacity: 0.3; }
        input[type=text] { width: 90%; background: #282c3490; color: silver; border: solid 1px #343c49; padding: 3px; font-size: 11px; border-radius: 2px; text-align: left; }
        input[type=checkbox] { accent-color: cadetblue; transform: scale(0.8); vertical-align: text-bottom; cursor: pointer; }
        select { width: 100%; background: #282c3490; color: silver; font-size: 11px; padding: 3px; border: solid 1px #1c1d2090; border-radius: 2px; outline: none; vertical-align: middle; }
        select:hover { color: indianred; cursor: pointer; }
        option { color: silver; background: #252931; }
        label { color: #8a8f9b; font-size: 11px; text-align: left; }
        #canvas_grid { z-index: 0; background: #2c313a; position: absolute; width: 100%; height: 100%; }
        #canvas_board { z-index: 1; position: absolute; width: 100%; height: 100%; }
        #canvas_helper { z-index: 2; position: absolute; width: 100%; height: 100%; pointer-events: none; }
        #canvas_magnifier { z-index: 9; display: none; background: #2F333C; border: solid 1px aqua; width: 100px; height: 100px; position: fixed; bottom: 1px; right: 1px; pointer-events: none; }
        .menu { z-index: 500; background: #252931f1; border: solid 1px #1c1d2090; width: 100px; position: absolute; position: absolute; left: 0; padding: 3px; transform: translate(37px, -500px); transition: transform 0.2s ease; cursor: default; }
        .menu .category { background: #1d2027; color: #545c68; font-size: 10px; padding: 1px; margin: 5px 2px 2px 2px; border-radius: 3px; text-align: center; }
        .menu .sector { list-style: none; padding-bottom: 2px; padding-left: 2px; }
        .menu button { font-size: 11px; background: #30363f; border: solid 1px #1d222b; padding: 5px 0 5px 0; width: 100%; border-radius: 3px; text-align: center; display: block; }
        .menu button:hover { background: #2d323d; color: indianred; }
        #menustorage .sector img { width: 94px; height: 60px; margin-bottom: -2px; border: dotted 1px #3c3f47; cursor: pointer; }
        #menustorage .sector div { display: inline-flex; }
        #menustorage .sector div button { width: 48px; }
        #toolbar_L { z-index: 500; background: #252931f1; border: solid 1px #1c1d2090; position: absolute; width: 35px; top: 0; left: 0; border-bottom-right-radius: 5px; text-align: center; cursor: default; }
        #toolbar_L button { width: 100%; padding: 5px 0 5px 0; }
        #toolbar_R { z-index: 500; background: none; border: none; position: absolute; width: 35px; top: 2px; right: 0; text-align: center; cursor: default; }
        #toolbar_R button { background: #252931f1; border: solid 1px #1c1d2090; width: 100%; padding: 5px 0 5px 0; margin-bottom: 2px; border-top-left-radius: 5px; border-bottom-left-radius: 5px; }
        #toolbar_R button:hover { color: indianred; }
        #toolbar_C { z-index: 500; position: absolute; width: 260px; height: 20px; left: 50%; margin-left: -130px; top: 3px; text-align: center; }
        #toolbar_C ul { list-style: none; line-height: 1em; }
        #toolbar_C li { display: inline-block; margin: 0 2px 0 2px; }
        #toolbar_C .storage { color: #aaa; background: #252931f1; width: 50px; font-size: 10px; font-weight: bold; padding: 4px; border-radius: 3px; }
        #toolbar_C .storage:hover { color: black; background: silver; }
        #toolbar_B { z-index: 500; position: absolute; width: 100px; left: 50%; bottom: 20px; margin-left: -50px; text-align: center; }
        #toolbar_B input::-webkit-slider-thumb { transform: scale(1.1); }
        #toolbar_B :first-child { color: cadetblue; font-size: 10px; font-weight: bold; }
        #hover { z-index: 500; top: 130px; left: 3px; position: absolute; cursor: default; }
        #hover ul { opacity: 0.9; background: #252931f1; border: solid 1px #1c1d2090; border-radius: 3px; list-style: none; }
        #hover ul .sep { height: 1px; background: #3e4550; margin: 2px 0 2px 0; padding: 0; pointer-events: none; }
        #hover li { padding: 5px; }
        #hover li:nth-child(1) { padding: 0; background: #252931; color: #3f4750; text-align: center; cursor: move; }
        #dynamicpalette { z-index: 500; display: none; background: #78869615; width: 100px; position: absolute; right: 5px; top: 240px; bottom: 120px; overflow-y: scroll; line-height: 0; }
        #dynamicpalette li { border: solid 1px #333; display: inline-block; width: 16px; height: 16px; border-radius: 0; }
        #dynamicpalette li:hover { border: solid 1px indianred; }
        #palette { z-index: 500; width: 85px; position: absolute; bottom: 5px; left: 5px; }
        #palette ul { line-height: 0.6em; }
        #palette li { position: absolute; left: 35px; bottom: 35px; background-color: #222222; border: solid 1px #333333; width: 24px; height: 22px; border-radius: 5px; display: inline-block; cursor: pointer; }
        #palette ul :nth-child(1) { z-index: 90; transform: rotate(270deg)  translateX(32px); }
        #palette ul :nth-child(2) { z-index: 80; transform: rotate(315deg)  translateX(32px); }
        #palette ul :nth-child(3) { z-index: 70; transform: rotate(360deg)  translateX(32px); }
        #palette ul :nth-child(4) { z-index: 60; transform: rotate(45deg)   translateX(32px); }
        #palette ul :nth-child(5) { z-index: 50; transform: rotate(90deg)   translateX(32px); }
        #palette ul :nth-child(6) { z-index: 40; transform: rotate(135deg)  translateX(32px); }
        #palette ul :nth-child(7) { z-index: 30; transform: rotate(180deg)  translateX(32px); }
        #palette ul :nth-child(8) { z-index: 20; transform: rotate(225deg)  translateX(32px); }
        #palette button { z-index: 500; padding: 5px; position: absolute; left: 0; bottom: 90px; }
        #palette button:hover { color: cadetblue; }
        #colorpicker { z-index: 500; position: absolute; bottom: 33px; left: 34px; }
        #colorpicker input[type=color] { width: 38px; height: 38px; border-radius: 50%; }
        #colorpicker input[type=color]::-webkit-color-swatch-wrapper { border-radius: 50%; }
        #colorpicker input[type=color]::-webkit-color-swatch { border: solid 1px white; border-radius: 50%; }
        #input-color-bg { width: 100%; vertical-align: text-bottom; }
        #pixelsize { color: cadetblue; font-size: 20px; font-weight: bold; bottom: 25px; right: 5px; position: absolute; }
        #info { z-index: 8; opacity: 0.8; color: #999; font-size: 10px; letter-spacing: 0.05em; position: absolute; width: fit-content; bottom: 5px; right: 5px; text-align: right; pointer-events: none; }
        #info span { color: silver; font-weight: bold; }
        #intro { z-index: 500; color: indianred; font-size: 10px; letter-spacing: 0.1em; position: absolute; width: 200px; left: 50%; bottom: 100px; margin-left: -100px; text-align: center; transition: opacity 0.5s; pointer-events: none; }
        #intro b { color: silver; }
        #about { z-index: 1000; display: none; font-size: 10px; letter-spacing: 1px; line-height: 2.4em; background: #191c22f1; color: silver; position: absolute; width: 220px; height: 160px; left: 50%; top: 50%; margin-left: -110px; margin-top: -85px; padding-top: 10px; border-radius: 5px; box-shadow: 0 0 5px #1c1d20; text-align: center; cursor: help; }
        #about h1 { color: indianred; font-size: 20px; letter-spacing: 2px; margin: 10px 0 -20px 0; }
        #about h1 .material-icons { color: indianred; font-size: 30px; vertical-align: -6px; }
        #about a { font-size: 11px; font-weight: bold; }
        .spacer { height: 5px; }
        .material-icons { font-family: 'Material Icons'; font-weight: normal; font-style: normal; font-size: 16px; vertical-align: middle; text-align: center; line-height: 1; letter-spacing: normal; text-transform: none; display: inline-block; white-space: nowrap; word-wrap: normal; direction: ltr; pointer-events: none; font-feature-settings: 'liga'; -webkit-font-feature-settings: 'liga'; -webkit-font-smoothing: antialiased; }
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #78869650; }
        ::-webkit-scrollbar-thumb { background: steelblue; }
        ::-webkit-scrollbar-thumb:hover { background: indianred; }
  </style>
</head>
<body>
    <canvas id="canvas_grid"></canvas>
    <canvas id="canvas_board" ondrop="dropHandler(event)" ondragover="dragHandler(event)" ondragleave="dragLeaveHandler(event)"></canvas>
    <canvas id="canvas_helper"></canvas>
    <canvas id="canvas_magnifier"></canvas>
    <div id="toolbar_L">
        <button title="Main Menu" onclick="showMenu()"><i class="material-icons">content_copy</i></button>
        <button title="Preferences" onclick="showPrefs()"><i class="material-icons">settings</i></button>
        <button title="Storage" onclick="showStorage()"><i class="material-icons">inbox</i></button>
        <button title="Filters" onclick="showFilters()"><i class="material-icons">tune</i></button>
    </div>
    <div id="toolbar_R">
        <button title="Clear" onclick="clearBoard()"><i class="material-icons">delete_forever</i></button>
        <div class="spacer"></div>
        <button title="Recenter" onclick="recenter()"><i class="material-icons">center_focus_strong</i></button>
        <button title="Tool: Translate" onclick="tool.selectButton('translate', this)"><i class="material-icons">control_camera</i></button>
        <div class="spacer"></div>
        <button title="Tool: Cyclone Effector" onclick="tool.selectButton('cyclone', this)"><i class="material-icons">cyclone</i></button>
        <button title="Tool: Gravity Effector" onclick="tool.selectButton('gravity', this)"><i class="material-icons">swipe_down_alt</i></button>
        <div class="spacer"></div>
        <button title="Dynamic Palette" onclick="toggleDynamicPalette()"><i class="material-icons">color_lens</i></button>
        <button title="Magnifier" onclick="toggleMagnifier()"><i class="material-icons">search</i></button>
    </div>
    <div id="toolbar_C">
        <ul>
            <li><button title="Quick Save" onclick="store()" class="storage">SAVE</button></li>
            <li><button title="Quick Load" onclick="restore()" class="storage">LOAD</button></li>
            <li></li>
            <li><button title="Undo" onclick="memory.undo()" class="storage">UNDO</button></li>
            <li><button title="Redo" onclick="memory.redo()" class="storage">REDO</button></li>
        </ul>
    </div>
    <div id="toolbar_B">
        <input title="Tool: Pixel Size" id="input-tool-size" type="range" min="0" max="11" value="4" step="1" oninput="document.getElementById('pixelsize').innerHTML = toolSizeList[this.value]">
    </div>
    <div class="menu" id="menumain">
        <div class="category">FILE</div>
        <button onclick="reset()">New</button>
        <button onclick="document.getElementById('openfile_pmk').click()">Load</button>
        <button onclick="saveProject()">Save</button>
        <button onclick="exportPNG()">Export PNG</button>
        <button onclick="copyBase64Image()">Copy Base64</button>
        <div class="category">PIXELATOR</div>
        <ul class="sector">
            <li><input id="input-pixelate-alpha" type="checkbox" checked> <label for="input-pixelate-alpha">Use Alpha</label></li>
            <li><input id="input-pixelate-fit" type="checkbox" checked oninput="document.getElementById('input-pixelate-ratio').disabled = this.checked"> <label for="input-pixelate-fit">Fit Screen</label></li>
            <li><label>Ratio</label> <input id="input-pixelate-ratio" type="number" value="2.0" min="0.1" max="10.0" step="0.1" disabled title="Lower value equals to more details and more time to process" onmousewheel=""></li>
            <li><label>Pixel Size: 10</label> <input id="input-pixelate-size" type="range" min="0" max="11" value="4" step="1" oninput="this.previousElementSibling.innerHTML='Pixel Size: '+toolSizeList[this.value]"></li>
        </ul>
        <button onclick="document.getElementById('openfile_img').click()">Upload Image</button>        
        <button onclick="pasteBase64Image()">Paste Base64</button>
        <div class="category">HELP</div>
        <select title="Load Samples" onchange="loadFile(this.options[this.selectedIndex].value)">
            <option value="samples/default.pmk">Default (10)</option>
            <option value="samples/goldenaxe.pmk">Golden Axe (8)</option>
            <option value="samples/doomslayer.pmk">Doom Slayer (4)</option>
            <option value="samples/colors.pmk">Colors (20)</option>
        </select>
        <button onclick="document.getElementById('about').style.display='unset'">About</button>
    </div>
    <div class="menu" id="menuprefs">
        <div class="category">PREFERENCES</div>
        <ul class="sector">
            <li title="Project Name"><label>Project Name</label><input id="input-projectname" type="text" value="null" minlength="3" maxlength="20"></li>
            <li title="Background Color"><label>Background Color</label> <input id="input-color-bg" type="color" value="#2F333C"></li>
            <li><input id="input-fullscreen" type="checkbox" onclick="toggleFullscreen()"> <label for="input-fullscreen" title="Toggle Fullscreen">Fullscreen</label></li>
        </ul>
        <div class="category">PROPERTIES</div>
        <ul class="sector">
            <li><input id="input-tool-preservealpha" type="checkbox" checked> <label for="input-tool-preservealpha" title="Preserve Alpha (Paint & Bucket)">Preserve Alpha</label></li>
            <li><label>Spray Radius</label><input id="input-tool-sprayradius" type="range" min="10" max="100" value="30" step="1"></li>
            <li><label>Cyclone Velocity</label> <input id="input-tool-cyclonevelocity" type="range" value="0.05" min="0.01" max="0.1" step="0.01"></li>
            <li><label>Gravity Velocity</label> <input id="input-tool-gravityvelocity" type="range" value="0.05" min="0.01" max="0.1" step="0.01"></li>
        </ul>
        <div class="category">DEBUG</div>
        <ul class="sector">
            <li><label for="input-debug">Debug Board</label> <input id="input-debug" type="checkbox" oninput="isDebugBoard=!isDebugBoard"></li>
        </ul>
    </div>
    <div class="menu" id="menustorage">
        <div class="category">STORAGE</div>
        <ul class="sector">
            <li class="storage"><img><div><button>Clear</button><button>Save</button></div></li>
            <li class="spacer"></li>
            <li class="storage"><img><div><button>Clear</button><button>Save</button></div></li>
            <li class="spacer"></li>
            <li class="storage"><img><div><button>Clear</button><button>Save</button></div></li>
        </ul>
    </div>
    <div class="menu" id="menufilters">
        <div class="category">FILTERS</div>
        <ul class="sector">
            <li><button onclick="filterGrayscale(board.pixels)">Grayscale</button></li>
            <li><button onclick="filterSepia(board.pixels)">Sepia</button></li>
            <li><button onclick="filterInvert(board.pixels)">Invert</button></li>
        </ul>
    </div>
    <div id="hover">
        <ul>
            <li onpointerdown="dragElement(this)"><i class="material-icons">grid_view</i></li>
            <li class="sep"></li>
            <li><button title="Tool: Pencil" onclick="tool.selectButton('pencil', this)" id="startuptool" class="selected"><i class="material-icons">create</i></button></li>
            <li><button title="Tool: Line" onclick="tool.selectButton('line', this)"><i class="material-icons">linear_scale</i></button></li>
            <li><button title="Tool: Symmetry" onclick="tool.selectButton('symmetry', this)"><i class="material-icons">align_horizontal_center</i></button></li>
            <li><button title="Tool: Quad Symmetry" onclick="tool.selectButton('symmetry-quad', this)"><i class="material-icons">flare</i></button></li>
            <li><button title="Tool: Spray (prop: Spray Size)" onclick="tool.selectButton('spray', this)"><i class="material-icons">bubble_chart</i></button></li>
            <li class="sep"></li>
            <li><button title="Tool: Eraser" onclick="tool.selectButton('eraser', this)"><i class="material-icons">clear</i></button></li>
            <li><button title="Tool: Rectangle Eraser" onclick="tool.selectButton('rect-eraser', this)"><i class="material-icons">cancel_presentation</i></button></li>
            <li class="sep"></li>
            <li><button title="Tool: Paint (prop: Preserve Alpha)" onclick="tool.selectButton('paint', this)"><i class="material-icons">brush</i></button></li>
            <li><button title="Tool: Bucket (prop: Preserve Alpha)" onclick="tool.selectButton('bucket', this)"><i class="material-icons">format_color_fill</i></button></li>
            <li><button title="Tool: Eyedropper" onclick="tool.selectButton('eyedrop', this)"><i class="material-icons">colorize</i></button></li>
        </ul>
    </div>
    <div id="palette">
        <ul id="palettecolors"></ul>
        <button title="Shade-Fill Palette" onclick="palette.shadeFill()"><i class="material-icons">brightness_medium</i></button>
    </div>
    <div id="dynamicpalette"><ul id="dynamiccolors"></ul></div>
    <div id="colorpicker"><input id="input-color" type="color" value="#CD5C5C"></div>
    <input style="display: none" type="file" id="openfile_pmk" accept=".pmk" onclick="this.value = null">
    <input style="display: none" type="file" id="openfile_img" accept=".jpg,.png" onclick="this.value = null">
    <div id="pixelsize">10</div>
    <div id="info"><span></span> Pixels<br><span></span></div>
    <div id="intro">
        <h1>PIXEL MONK</h1>
        <b>1.5.0 ALPHA</b>
    </div>
    <div id="about" onclick="this.style.display='none'">
        <h1><i class="material-icons">grid_view</i> PIXEL MONK</h1>
        <br>VECTOR-BASED PIXEL EDITOR
        <br>1.5.0 ALPHA 2022
        <br><a href="https://github.com/nimadez/">GITHUB REPOSITORY</a>
        <br><a href="https://nimadez.github.io/">2022 NIMA DEZFULI</a></div>
</body>
<script>
    const inputProjectName = document.getElementById('input-projectname');
    const inputColor = document.getElementById('input-color');
    const inputBgColor = document.getElementById('input-color-bg');
    const inputToolSize = document.getElementById('input-tool-size');
    const inputToolQuadSymm = document.getElementById('input-tool-quadsymm');
    const inputToolPreserveAlpha = document.getElementById('input-tool-preservealpha');
    const inputToolSprayRadius = document.getElementById('input-tool-sprayradius');
    const inputToolCycloneVelocity = document.getElementById('input-tool-cyclonevelocity');
    const inputToolGravityVelocity = document.getElementById('input-tool-gravityvelocity');
    const storages = document.querySelectorAll('.sector .storage');
    const info = document.getElementById('info');

    const cg = document.getElementById('canvas_grid');
    const ctxg = cg.getContext('2d', { willReadFrequently: true });
    cg.width = window.innerWidth;
    cg.height = window.innerHeight;

    const cb = document.getElementById('canvas_board');
    const ctx = cb.getContext('2d', { willReadFrequently: true });
    cb.width = window.innerWidth;
    cb.height = window.innerHeight;

    const ch = document.getElementById('canvas_helper');
    const ctxh = ch.getContext('2d', { willReadFrequently: true });
    ch.width = window.innerWidth;
    ch.height = window.innerHeight;

    const cm = document.getElementById('canvas_magnifier');
    const ctxm = cm.getContext('2d', { willReadFrequently: true });
    cm.width = 100;
    cm.height = 100;


    // -------------------------------------------------------
    // Initialize


    const storageHolder = 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 90%22><text y=%22.9em%22 font-size=%2280%22 style="filter: grayscale(); opacity: 0.1;"></text></svg>';
    const PI2 = Math.PI * 2;
    const mouse = { x: 0, y: 0, lastX: 0, lastY: 0, pivotX: 0, pivotY: 0, isDown: false };
    const toolSizeList = [2,4,6,8,10,12,14,16,18,20,22,24]; // using the slider-input as the indexer for the inputPixelSize
    
    let canvasOffset = { x: 0, y: 0 };
    let currentColor = inputColor.value.toUpperCase();
    let isDebugBoard = false;
    let isShowMagnifier = false;
    let isShowDynamicPalette = false;

    let board = new Board();
    let tool = new Tool();
    let helper = new Helper();
    let memory = new Memory();
    let dynamicPalette = new DynamicPalette();
    let palette = new Palette();
    
    renderLoop();
    drawGridCanvas();

    function renderLoop() {
        board.render();
        info.firstChild.innerHTML = board.pixels.length;
        info.lastChild.innerHTML = board.w + ' x ' + board.h;
        requestAnimationFrame(renderLoop);
    }

    // outro
    setTimeout(()=>{document.getElementById('intro').style.opacity=0},5000);


    // -------------------------------------------------------
    // Pixel


    function Pixel(x, y, size, color, alpha = 1.0) {
        this.x = x;
        this.y = y;
        this.size = size;
        this.color = color;
        this.alpha = alpha;
        this.velocity = { x: 0, y: 0 };
        this.isAnimate = false;

        this.update = function() {
            this.x += this.velocity.x;
            this.y += this.velocity.y;
            setTimeout(() => {
                this.velocity = { x: 0, y: 0 };
                this.isAnimate = false;
            }, 2000);
        }
    }


    // -------------------------------------------------------
    // Board


    function Board() {
        this.pixels = [];
        this.x = 0;
        this.y = 0;
        this.w = 0;
        this.h = 0;
        this.minX = 0;
        this.minY = 0;
        this.maxX = 0;
        this.maxY = 0;
        this.origin = { x: 0, y: 0 }; // origin position
        this.pivot =  { x: 0, y: 0 }; // pivot (start at 0,0), translate the board as well
        this.center = { x: 0, y: 0 }; // absolute board center on screen
        this.snapPrecision = 2;

        this.render = function() {
            ctx.clearRect(0, 0, cb.width, cb.height);

            // in this case, fillRect is faster than beginPath() in my tests
            for (let i = 0; i < this.pixels.length; i++) {
                ctx.globalAlpha = this.pixels[i].alpha;
                ctx.fillStyle = this.pixels[i].color;
                ctx.fillRect(
                    this.pivot.x + this.pixels[i].x,
                    this.pivot.y + this.pixels[i].y,
                    this.pixels[i].size,
                    this.pixels[i].size);
                if (this.pixels[i].isAnimate)
                    this.pixels[i].update();
            }
            ctx.globalAlpha = 1;
            
            if (isDebugBoard)
                debugBoard();
        }

        this.add = function(pixel) {
            this.removeByShape(pixel); // no duplicate by shape
            this.pixels.push(pixel);
        }

        this.addFloor = function(pixel) {
            const pos = floor(pixel.x, pixel.y, pixel.size);
            pixel.x = pos.x;
            pixel.y = pos.y;
            this.removeByShape(pixel);
            this.pixels.push(pixel);
        }

        this.removeByPixel = function(pixel) { // find and remove by exact pixel object
            const index = this.findIndexByPixel(pixel);
            if (index > -1) this.pixels.splice(index, 1);
        }

        this.removeByShape = function(pixel) { // find and remove by shape only, no colors
            const index = this.findIndexByShape(pixel.x, pixel.y, pixel.size);
            if (index > -1) this.pixels.splice(index, 1);
        }

        this.removeByIndex = function(index) { // remove by index
            if (this.pixels[index])
                this.pixels.splice(index, 1);
        }

        this.translate = function(xDiff, yDiff) {
            if (this.pixels.length == 0) return;
            this.calcBoundingBox();
            //xDiff /= 2;
            //yDiff /= 2;
            xDiff *= this.snapPrecision;
            yDiff *= this.snapPrecision;
            const pos = floor(xDiff, yDiff, 1);
            this.pivot.x -= pos.x;
            this.pivot.y -= pos.y;
            this.calcBoundingBox();
        }

        this.recenter = function() {
            if (this.pixels.length == 0) return;
            this.calcBoundingBox();
            const x = ~~(cb.width/2) - this.origin.x;
            const y = ~~(cb.height/2) - this.origin.y;
            const pos = floor(x, y, tool.size);
            for (let i = 0; i < board.pixels.length; i++) {
                board.pixels[i].x += pos.x;
                board.pixels[i].y += pos.y;
            }
            this.pivot.x = 0;
            this.pivot.y = 0;
            this.calcBoundingBox();
        }

        this.calcBoundingBox = function() {
            this.minX = Math.min(...this.pixels.map(pixel => pixel.x));
            this.minY = Math.min(...this.pixels.map(pixel => pixel.y));
            this.maxX = Math.max(...this.pixels.map(pixel => pixel.x + pixel.size));
            this.maxY = Math.max(...this.pixels.map(pixel => pixel.y + pixel.size));
            this.x = this.minX;
            this.y = this.minY;
            this.w = this.maxX - this.minX;
            this.h = this.maxY - this.minY;
            this.origin = {
                x: this.maxX - (this.w / 2),
                y: this.maxY - (this.h / 2)
            }
            this.center = {
                x: this.pivot.x + this.origin.x,
                y: this.pivot.y + this.origin.y
            }
        }

        this.findPixelsByRectIntersect = function(x, y, size) {
            const selected = [];
            for (let i = 0; i < board.pixels.length; i++) {
                if (isIntersectRects({
                    x: board.pixels[i].x,
                    y: board.pixels[i].y,
                    w: board.pixels[i].x + (board.pixels[i].size/2),
                    h: board.pixels[i].y + (board.pixels[i].size/2)
                }, {
                    x: x,
                    y: y,
                    w: x + (size-1),
                    h: y + (size-1)
                })) {
                    selected.push(board.pixels[i]);
                }
            }
            return selected;
        }

        this.findPixelsByPointInArea = function(x, y, size) {
            const selected = [];
            for (let i = 0; i < board.pixels.length; i++) {
                if (isPointInRect({
                    x: board.pixels[i].x - size,
                    y: board.pixels[i].y - size,
                    w: size * 2,
                    h: size * 2},
                    { x: x, y: y })) {
                    selected.push(board.pixels[i]);
                }
            }
            return selected;
        }
        
        this.findIndexByPixel = function(pixel) {
            return this.pixels.findIndex(i =>
                i.x === pixel.x &&
                i.y === pixel.y &&
                i.size === pixel.size &&
                i.color === pixel.color &&
                i.alpha === pixel.alpha);
        }

        this.findIndexByShape = function(x, y, size) {
            return this.pixels.findIndex(
                i => i.x === x &&
                i.y === y &&
                i.size === size);
        }
    }


    // -------------------------------------------------------
    // Tool


    function Tool() {
        this.name = 'pencil';
        this.size = toolSizeList[parseInt(inputToolSize.value)];
        this.startPoint = { x: 0, y: 0 };
        this.endPoint = { x: 0, y: 0 };
        this.selectRect = {};

        this.pencil = function() {
            pixel = new Pixel(mouse.pivotX, mouse.pivotY, this.size, currentColor);
            board.addFloor(pixel);
        }

        this.line = function() { // 25 = interpolation tolerance
            let points = plotLine(25, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.endPoint.y);
            if (points.length > 2 && points.length < 200) { // limit length for performance
                for (let i = 0; i < points.length; i++) {
                    pixel = new Pixel(
                        points[i].x - board.pivot.x,
                        points[i].y - board.pivot.y,
                        this.size, currentColor);
                    board.addFloor(pixel);
                }
            }
            points = null;
        }

        this.symmetry = function() {
            let pixel = new Pixel(mouse.pivotX, mouse.pivotY, this.size, currentColor);
            board.addFloor(pixel);

            pixel = new Pixel(cb.width-pixel.x-this.size, pixel.y, pixel.size, pixel.color);
            board.addFloor(pixel);
        }

        this.symmetryQuad = function() {
            let pixel = new Pixel(mouse.pivotX, mouse.pivotY, this.size, currentColor);
            board.addFloor(pixel);

            pixel = new Pixel(cb.width-pixel.x-this.size, cb.height-pixel.y-this.size, pixel.size, pixel.color);
            board.addFloor(pixel);

            pixel = new Pixel(cb.width-pixel.x-this.size, pixel.y, pixel.size, pixel.color);
            board.addFloor(pixel);

            pixel = new Pixel(cb.width-pixel.x-this.size, cb.height-pixel.y-this.size, pixel.size, pixel.color);
            board.addFloor(pixel);
        }

        this.spray = function() {
            const a = Math.random() * (PI2);
            const r = randomRangeFloat(0, parseFloat(inputToolSprayRadius.value));
            const x = mouse.pivotX + (Math.sin(a) * r);
            const y = mouse.pivotY + (Math.cos(a) * r);
            pixel = new Pixel(x, y, this.size, currentColor);
            board.addFloor(pixel);
        }

        this.eraser = function() {
            const pos = floor(mouse.pivotX, mouse.pivotY, this.size);
            const selected = board.findPixelsByRectIntersect(pos.x, pos.y, this.size);
            for (let i = 0; i < selected.length; i++)
                board.removeByPixel(selected[i]);
        }

        this.rectEraser = function() {
            this.calcSelectRect();
            let selected = [];
            for (let i = 0; i < board.pixels.length; i++) {
                const rect = {
                    x: board.pixels[i].x,
                    y: board.pixels[i].y,
                    w: board.pixels[i].size,
                    h: board.pixels[i].size};
                if (isIntersectRectsSize(this.selectRect, rect))
                    selected.push(board.pixels[i]);
            }
            for (let i = 0; i < selected.length; i++)
                board.removeByPixel(selected[i]);
            selected = null;
        }

        this.paint = function() {
            const preserveAlpha = inputToolPreserveAlpha.checked;
            const pos = floor(mouse.pivotX, mouse.pivotY, this.size);
            const selected = board.findPixelsByRectIntersect(pos.x, pos.y, this.size);
            for (let i = 0; i < selected.length; i++) {
                selected[i].color = currentColor;
                if (!preserveAlpha)
                    selected[i].alpha = 1.0;
            }
        }

        this.bucket = function() {
            const preserveAlpha = inputToolPreserveAlpha.checked;
            const color = getCanvasColor(ctx, mouse.x, mouse.y);
            for (let i = 0; i < board.pixels.length; i++) {
                if (board.pixels[i].color === color)
                    board.pixels[i].color = currentColor;
                    if (!preserveAlpha)
                        board.pixels[i].alpha = 1.0;
            }
        }

        this.eyedrop = function() { // TODO: get premultiplied-alpha color
            if (getCanvasAlpha(ctx, mouse.x, mouse.y) > 0) {
                const hex = getCanvasColor(ctx, mouse.x, mouse.y);
                setColor(hex);
                palette.setColor(hex);
            }
        }

        this.translate = function() {
            board.translate(mouse.lastX - mouse.x, mouse.lastY - mouse.y);
            //translateCanvas(cb); // may translate the canvas at some point
            //translateCanvas(cg);
            //translateCanvas(ch);
        }

        this.cyclone = function() {
            const velocity = parseFloat(inputToolCycloneVelocity.value);
            const selected = board.findPixelsByPointInArea(mouse.pivotX, mouse.pivotY, this.size);
            for (let i = 0; i < selected.length; i++) {
                const a = Math.random() * (PI2);
                selected[i].isAnimate = true;
                selected[i].velocity.x -= Math.sin(a) * velocity;
                selected[i].velocity.y -= Math.cos(a) * velocity;
            }
        }

        this.gravity = function() {
            const velocity = parseFloat(inputToolGravityVelocity.value);
            const selected = board.findPixelsByPointInArea(mouse.pivotX, mouse.pivotY, this.size);
            for (let i = 0; i < selected.length; i++) {
                selected[i].isAnimate = true;
                selected[i].velocity.y += Math.random() * velocity;
            }
        }

        this.onToolDown = function(isTouch) {
            switch (this.name) { // isTouch prevent accidental draw on touch-down
                case 'pencil':
                    if (!isTouch) this.pencil();
                    break;
                case 'line':
                    this.startPoint = { x: mouse.x, y: mouse.y };
                    break;
                case 'symmetry':
                    if (!isTouch) this.symmetry();
                    break;
                case 'symmetry-quad':
                    if (!isTouch) this.symmetryQuad();
                    break;
                case 'spray':
                    if (!isTouch) this.spray();
                    break;
                case 'eraser':
                    if (!isTouch) this.eraser();
                    break;
                case 'rect-eraser':
                    this.startPoint = { x: mouse.x, y: mouse.y };
                    break;
                case 'paint':
                    this.paint();
                    break;
                case 'bucket':
                    this.bucket();
                    break;
                case 'eyedrop':
                    this.eyedrop();
                    break;
                case 'translate':
                    break;
                case 'cyclone':
                    if (!isTouch) this.cyclone();
                    break;
                case 'gravity':
                    if (!isTouch) this.gravity();
                    break;
            }
        }

        this.onToolMove = function() {
            switch (this.name) {
                case 'pencil':
                    helper.rectangleSize(mouse.pivotX, mouse.pivotY, this.size);
                    if (mouse.isDown)
                        this.pencil();
                    break;
                case 'line':
                    helper.rectangleSize(mouse.pivotX, mouse.pivotY, this.size);
                    if (mouse.isDown) {
                        pos = floor(this.startPoint.x, this.startPoint.y, 1);
                        helper.line(pos, mouse);
                    }
                    break;
                case 'symmetry':
                    helper.symmLine();
                    if (mouse.isDown)
                        this.symmetry();
                    break;
                case 'symmetry-quad':
                    helper.symmLine();
                    if (mouse.isDown)
                        this.symmetryQuad();
                    break;
                case 'spray':
                    helper.circleStroke(mouse.x, mouse.y, parseInt(inputToolSprayRadius.value));
                    if (mouse.isDown)
                        this.spray();
                    break;
                case 'eraser':
                    helper.rectangleSize(mouse.pivotX, mouse.pivotY, this.size);
                    if (mouse.isDown)
                        this.eraser();
                    break;
                case 'rect-eraser':
                    helper.rectangleSize(mouse.pivotX, mouse.pivotY, 5);
                    if (mouse.isDown)
                        helper.rectangleRect(this.startPoint.x, this.startPoint.y, mouse.x, mouse.y);
                    break;
                case 'paint':
                    helper.point(mouse.x, mouse.y, this.size, currentColor);
                    if (mouse.isDown)
                        this.paint();
                    break;
                case 'bucket':
                    helper.point(mouse.x, mouse.y, 5, currentColor);
                    if (mouse.isDown)
                        this.bucket();
                    break;
                case 'eyedrop':
                    helper.point(mouse.x, mouse.y, 5);
                    if (mouse.isDown)
                        this.eyedrop();
                    break;
                case 'translate':
                    if (mouse.isDown)
                        this.translate();
                    helper.bbox();
                    break;
                case 'cyclone':
                    helper.circleStroke(mouse.x, mouse.y, this.size);
                    if (mouse.isDown)
                        this.cyclone();
                    break;
                case 'gravity':
                    helper.circleStroke(mouse.x, mouse.y, this.size);
                    if (mouse.isDown)
                        this.gravity();
                    break;
            }
        }

        this.onToolUp = function() {
            switch (this.name) {
                case 'pencil':
                    memory.record();
                    helper.clear();
                    break;
                case 'line':
                    this.endPoint = { x: mouse.x, y: mouse.y };
                    this.line();
                    memory.record();
                    helper.clear();
                    break;
                case 'symmetry':
                    memory.record();
                    break;
                case 'symmetry-quad':
                    memory.record();
                    break;
                case 'spray':
                    memory.record();
                    helper.clear();
                    break;
                case 'eraser':
                    this.eraser();
                    memory.record();
                    helper.clear();
                    break;
                case 'rect-eraser':
                    this.endPoint = { x: mouse.x, y: mouse.y };
                    this.rectEraser();
                    memory.record();
                    helper.clear();
                    break;
                case 'paint':
                    memory.record();
                    helper.clear();
                    break;
                case 'bucket':
                    memory.record();
                    helper.clear();
                    break;
                case 'eyedrop':
                    helper.clear();
                    break;
                case 'translate':
                    // using pivot system, no memory record needed
                    break;
                case 'cyclone':
                    this.cyclone();
                    memory.record();
                    helper.clear();
                    break;
                case 'gravity':
                    this.gravity();
                    memory.record();
                    helper.clear();
                    break;
            }

            selected = [];
            board.calcBoundingBox();
            if (isShowDynamicPalette)
                dynamicPalette.create(); // TODO: freeze/slowdown drawing on 9K+ pixels
        }

        this.selectButton = function(name, elem) {
            this.name = name;
            for (let i of document.getElementsByClassName('selected'))
                i.classList.remove('selected');
            elem.classList.add('selected');

            helper.clear();
            board.calcBoundingBox(); // important
            switch (this.name) { // they need a helper on button click
                case 'symmetry':
                    helper.symmLine();
                    break;
                case 'translate':
                    helper.bbox();
                    break;
            }
        }

        this.calcSelectRect = function() {
            let x, y, w, h;
            if (this.endPoint.x < this.startPoint.x && this.endPoint.y < this.startPoint.y) {
                x = this.endPoint.x - board.pivot.x; // bottom-right to top-left
                y = this.endPoint.y - board.pivot.y;
                w = this.startPoint.x - this.endPoint.x;
                h = this.startPoint.y - this.endPoint.y;
            }
            if (this.endPoint.x > this.startPoint.x && this.endPoint.y > this.startPoint.y) {
                x = this.startPoint.x - board.pivot.x; // top-left to bottom-right
                y = this.startPoint.y - board.pivot.y;
                w = this.endPoint.x - this.startPoint.x;
                h = this.endPoint.y - this.startPoint.y;
            }
            if (this.endPoint.x > this.startPoint.x && this.endPoint.y < this.startPoint.y) {
                x = this.startPoint.x - board.pivot.x; // bottom-left to top-right
                y = this.endPoint.y - board.pivot.y;
                w = Math.abs(this.startPoint.x - this.endPoint.x);
                h = Math.abs(this.endPoint.y - this.startPoint.y);
            }
            if (this.endPoint.x < this.startPoint.x && this.endPoint.y > this.startPoint.y) {
                x = this.endPoint.x - board.pivot.x; // top-right to bottom-left
                y = this.startPoint.y - board.pivot.y;
                w = Math.abs(this.endPoint.x - this.startPoint.x);
                h = Math.abs(this.startPoint.y - this.endPoint.y);
            }
            this.selectRect = { x: x, y: y, w: w, h: h };
        }
    }


    // -------------------------------------------------------
    // Helper
    

    function Helper() {
        this.color = '#00ffff'; // aqua

        this.point = function(x, y, size, color=this.color) {
            const pos = floor(x, y, size);
            this.clear();
            ctxh.fillStyle = color;
            ctxh.fillRect(pos.x, pos.y, size, size);
        }

        this.line = function(p1, p2) {
            this.clear();
            ctxh.beginPath();
            ctxh.moveTo(p1.x, p1.y);
            ctxh.lineTo(p2.x, p2.y);
            ctxh.strokeStyle = this.color;
            ctxh.stroke();
            ctxh.beginPath();
            ctxh.arc(p1.x, p1.y, tool.size/2, 0, PI2);
            ctxh.arc(p2.x, p2.y, tool.size/2, 0, PI2);
            ctxh.fillStyle = this.color;
            ctxh.fill();
        }

        this.rectangleRect = function(x, y, w, h) {
            this.clear();
            ctxh.save();
            ctxh.translate(0.5, 0.5); //res fix
            ctxh.setLineDash([2, 2]);
            ctxh.strokeStyle = this.color;
            ctxh.strokeRect(x, y, w-x, h-y);
            ctxh.setLineDash([]);
            ctxh.translate(-0.5, -0.5);
            ctxh.restore();
        }

        this.rectangleSize = function(x, y, size, color=this.color) {
            const pos = floor(x, y, size);
            this.clear();
            ctxh.save();
            ctxh.translate(board.pivot.x + 0.5, board.pivot.y + 0.5); //res fix
            ctxh.beginPath();
            ctxh.moveTo(pos.x, pos.y);
            ctxh.lineTo(pos.x, pos.y+size);
            ctxh.lineTo(pos.x+size, pos.y+size);
            ctxh.lineTo(pos.x+size, pos.y);
            ctxh.lineTo(pos.x, pos.y);
            ctxh.strokeStyle = color;
            ctxh.stroke();
            ctxh.translate(board.pivot.x - 0.5, board.pivot.y - 0.5);
            ctxh.restore();
        }

        this.circleStroke = function(x, y, r) {
            this.clear();
            ctxh.beginPath();
            ctxh.arc(x, y, r, 0, PI2);
            ctxh.strokeStyle = this.color + '30';
            ctxh.stroke();
        }

        this.bbox = function() {
            const x = board.pivot.x + board.x;
            const y = board.pivot.y + board.y;
            this.clear();
            ctxh.save();
            ctxh.translate(0.5, 0.5); //res fix
            ctxh.setLineDash([2, 2]);
            ctxh.beginPath();
            ctxh.moveTo(x, y);
            ctxh.lineTo(x, y+board.h);
            ctxh.lineTo(x+board.w, y+board.h);
            ctxh.lineTo(x+board.w, y);
            ctxh.lineTo(x, y);
            ctxh.strokeStyle = this.color;
            ctxh.stroke();
            ctxh.setLineDash([]);
            ctxh.translate(-0.5, -0.5);
            ctxh.restore();
        }

        this.symmLine = function() {
            const pos = floor(board.pivot.x + (cb.width/2), 1, tool.size/2);
            this.clear();
            ctxh.save();
            ctxh.translate(0.5, 0.5); //res fix
            ctxh.beginPath();
            ctxh.moveTo(pos.x, 30);
            ctxh.lineTo(pos.x, cb.height-30);
            ctxh.setLineDash([4, 4]);
            ctxh.strokeStyle = this.color + '30';
            ctxh.stroke();
            ctxh.setLineDash([]);
            ctxh.translate(-0.5, -0.5);
            ctxh.restore();
        }

        this.clear = function() {
            ctxh.clearRect(0, 0, ch.width, ch.height);
        }
    }


    // -------------------------------------------------------
    // Memory


    function Memory() {
        this.stack = [];
        this.block = -1;

        this.record = function() {
            this.stack[++this.block] = getData(board);
            this.stack.splice(this.block + 1); // delete anything forward
        }

        this.undo = function() {
            --this.block;
            if (this.stack[this.block]) {
                setData(this.stack[this.block]);
            } else {
                ++this.block;
            }
        }

        this.redo = function() {
            ++this.block;
            if (this.stack[this.block]) {
                setData(this.stack[this.block]);
            } else {
                --this.block;
            }
        }

        this.clear = function() {
            this.stack = [];
            this.block = -1;
            this.record(); // init memory block 0
        }
    }


    // -------------------------------------------------------
    // Dynamic Palette


    function DynamicPalette() {
        this.dom = document.getElementById('dynamiccolors');
        this.uniqueColors = [];

        this.create = function() {
            this.dom.innerHTML = "";
            this.uniqueColors = [];
            for (let i = 0; i < board.pixels.length; i++) {
                if (this.uniqueColors.indexOf(board.pixels[i].color) == -1) {
                    this.addLayer(board.pixels[i].color);
                    this.uniqueColors.push(board.pixels[i].color);
                }
            }
        }

        this.addLayer = function(hex) {
            const li = document.createElement('li');
            li.style.backgroundColor = hex;
            li.title = hex;

            li.addEventListener("click", function(ev) {
                currentColor = hex;
                inputColor.value = hex;
                palette.setColor(hex);
            }, false);

            this.dom.appendChild(li);
        }
    }


    // -------------------------------------------------------
    // Palette


    function Palette() {
        const dom = document.getElementById('palettecolors');
        let colors = [];
        let uls = [];
        let currentIndex = 0;
    
        this.init = function() {
            for (let i = 0; i < 8; i++) // generate shades
                colors.push(shadeColor(inputColor.value, i * 15));
            this.restore();
            this.createPalette();
            this.highlightSelected(0);
        }

        this.createPalette = function() {
            for (let i = 0; i < colors.length; i++) {
                const li = document.createElement('li');
                li.style.backgroundColor = colors[i];
                li.addEventListener('click', (evt) => {
                    const rgb = li.style.backgroundColor;
                    currentColor = rgbaIntToHex(rgb).toUpperCase();
                    inputColor.value = currentColor;
                    currentIndex = i;
                    palette.highlightSelected(i);
                }, false);
                dom.appendChild(li);
            }
            uls = document.querySelectorAll('#palettecolors li');
        }

        this.setColor = function(hex) {
            uls[currentIndex].style.backgroundColor = hex;
            colors[currentIndex] = hex;
            this.store();
        }

        this.shadeFill = function() {
            if (!confirm("Are you sure?")) return;
            for (let i = 0; i < colors.length; i++) {
                const c = shadeColor(inputColor.value, i * 15);
                uls[i].style.backgroundColor = c;
                colors[i] = c;
            }
            this.store();
        }

        this.highlightSelected = function(index) {
            for (let i = 0; i < uls.length; i++)
                uls[i].style.borderColor = '#333333';
            uls[index].style.borderColor = 'white';
        }

        this.store = function() {
            localStorage.setItem("pmcolor", JSON.stringify(colors));
        }

        this.restore = function() {
            let array = JSON.parse(localStorage.getItem("pmcolor"));
            if (!array) return;
            colors = array;
        }

        this.init();
    }


    // -------------------------------------------------------
    // Projects


    function saveProject() {
        downloadText(getFileData(board), inputProjectName.value + '.pmk');
    }

    function loadProject(data) {
        tool.selectButton('pencil', document.getElementById('startuptool'));
        setFileData(data);
        board.recenter();
        memory.clear();
    }

    function importImage(imgData) {
        tool.selectButton('pencil', document.getElementById('startuptool'));
        board = new Board();
        pixelateImage(imgData);
    }

    function exportPNG() {
        const baked = bakeCanvas(cb);
        downloadPNG(baked, `${inputProjectName.value}_${baked.width}x${baked.height}.png`);
    }

    function getData(board) {
        let data = `${board.pivot.x},${board.pivot.y}\n`;
        for (let i = 0; i < board.pixels.length; i++)
            data += `${board.pixels[i].x},${board.pixels[i].y},${board.pixels[i].size},${board.pixels[i].color},${board.pixels[i].alpha}\n`;
        return data;
    }

    function setData(data) { // for internal use, local storage and memory steps
        helper.clear();
        board = new Board();
        let line = '';
        let chunk = [];
        let lines = data.split('\n');
        board.pivot.x = parseInt(lines[0].split(',')[0]);
        board.pivot.y = parseInt(lines[0].split(',')[1]);
        for (let i = 1; i < lines.length - 1; i++) {
            if (lines[i]) { // ignore empty lines
                line = lines[i].replace(/\s+/g, ''); // strip whitespaces
                chunk = line.split(',');
                board.add(new Pixel(parseInt(chunk[0]), parseInt(chunk[1]), parseInt(chunk[2]), chunk[3], parseFloat(chunk[4])));
            }
        }
        lines = null;
        chunk = null;
        data = null;
        dynamicPalette.create();
    }

    function getFileData(board) {
        let data = '#' + inputProjectName.value + '\n';
        for (let i = 0; i < board.pixels.length; i++)
            data += `${board.pixels[i].x},${board.pixels[i].y},${board.pixels[i].size},${board.pixels[i].color},${board.pixels[i].alpha}\n`;
        return data;
    }

    function setFileData(data) {
        inputProjectName.value = 'Untitled';
        helper.clear();
        board = new Board();
        let line = '';
        let chunk = [];
        let lines = data.split('\n');
        for (let i = 0; i < lines.length; i++) {
            if (lines[i]) {
                if (lines[i].startsWith('#')) {
                    inputProjectName.value = lines[i].substring(1); // strip #
                } else {
                    line = lines[i].replace(/\s+/g, ''); // strip whitespaces
                    chunk = line.split(',');
                    board.add(new Pixel(parseInt(chunk[0]), parseInt(chunk[1]), parseInt(chunk[2]), chunk[3], parseFloat(chunk[4])));
                }
            }
        }
        lines = null;
        chunk = null;
        data = null;
        dynamicPalette.create();
    }

    function pixelateImage(imgData) {
        const ratio = parseFloat(document.getElementById('input-pixelate-ratio').value);
        const pixelSize = toolSizeList[parseInt(document.getElementById('input-pixelate-size').value)];
        const isFitScreen = document.getElementById('input-pixelate-fit').checked;
        const useAlpha = document.getElementById('input-pixelate-alpha').checked;
        const img = new Image();
        img.src = imgData;
        img.onload = () => {
            const c = document.createElement('canvas');
            const cx = c.getContext('2d');

            let dim = aspectRatioFit(img.width, img.height, cb.width/ratio, cb.height/ratio);
            c.width = dim.width;
            c.height = dim.height;
            if (isFitScreen) {
                dim = aspectRatioFit(img.width, img.height, cb.width/1.5, cb.height/1.5);
                c.width = dim.width;
                c.height = dim.height;
            }

            cx.msImageSmoothingEnabled = false;
            cx.mozImageSmoothingEnabled = false;
            cx.webkitImageSmoothingEnabled = false;
            cx.imageSmoothingEnabled = false;
            cx.drawImage(img, 0, 0, c.width, c.height);

            const cenX = (cb.width/2 - c.width/2);
            const cenY = (cb.height/2 - c.height/2);
            let imageData = cx.getImageData(0, 0, c.width, c.height).data;
            let pixelData = [];
            let x,y,r,g,b,a,f;
            for (let i = 0; i < imageData.length; i += 4) {
                a = imageData[i + 3];
                if (!useAlpha && a < 255) a = 0;
                if (a > 0) {
                    r = imageData[i];
                    g = imageData[i + 1];
                    b = imageData[i + 2];
                    x = (i / 4) % c.width;
                    y = ~~(i / 4 / c.width);
                    f = floor(cenX + x, cenY + y, pixelSize);
                    board.add(new Pixel(
                        f.x, f.y, pixelSize,
                        rgbIntToHex(r, g, b),
                        (a / 255).toFixed(1)));
                }
            }
            board.recenter();
            memory.clear();
            dynamicPalette.create();
            helper.clear();

            imgData = null;
            imageData = null;
            pixelData = null;
        }
    }

    function loadFile(url) {
        fetch(url).then(
            function(response) {
                if (response.status !== 200) {
                    console.log('loadFile', response.status);
                    return;
                }
                response.text().then(function(data) {
                    loadProject(data);
                });
            }
        ).catch(function(err) {
            console.log('loadFile', err);
        });
    }

    function copyBase64Image() {
        const baked = bakeCanvas(cb);
        clipboardBase64(baked);
    }

    function pasteBase64Image() {
        navigator.clipboard.readText()
            .then(text => {
                if (text.startsWith('data:image/')) {
                    importImage(text);
                } else {
                    console.log('invalid base64 image');
                }
            })
            .catch(err => {
                console.log('failed to read clipboard data');
            });
    }


    // -------------------------------------------------------
    // Storages


    function store() {
        localStorage.setItem("pixelmonk", JSON.stringify(getData(board, true)));
    }

    function restore() {
        let str = localStorage.getItem("pixelmonk");
        if (!str) return;
        setData(JSON.parse(str), true);
        memory.clear();
    }
    
    function createStorages() {
        for (let i = 0; i < storages.length; i++) {
            const img = storages[i].children[0];
            const clear = storages[i].children[1].firstChild;
            const save = storages[i].children[1].lastChild;
            img.src = storageHolder;
            img.id = 'storage' + i;

            //get storage images on startup
            const storage = localStorage.getItem('pmstorageimg' + img.id);
            if (storage) img.src = storage;

            clear.addEventListener("click", function (ev) {
                img.src = storageHolder;
                localStorage.removeItem('pmstorageimg' + img.id);
                localStorage.removeItem('pmstorage' + img.id);
            }, false);

            save.addEventListener("click", function (ev) {
                if (board.pixels.length == 0) return;
                const c = bakeCanvasScaled(cb, img.clientWidth, img.clientHeight).toDataURL("image/png");
                localStorage.setItem('pmstorageimg' + img.id, c);
                localStorage.setItem('pmstorage' + img.id, JSON.stringify(getData(board, true)));
                img.src = c;
            }, false);

            img.addEventListener("click", function (ev) {
                const data = localStorage.getItem('pmstorage' + img.id);
                if (data) {
                    setData(JSON.parse(data), true);
                    board.recenter();
                    memory.record();
                }
            }, false);
        }
    }


    // -------------------------------------------------------
    // Events


    inputColor.addEventListener("input", function (ev) {
        currentColor = this.value.toUpperCase();
        palette.setColor(currentColor);
    }, false);

    inputBgColor.addEventListener("input", function (ev) {
        cg.style.background = this.value;
    }, false);

    inputToolSize.addEventListener("input", function (ev) {
        tool.size = toolSizeList[parseInt(this.value)];
        drawGridCanvas();
    }, false);

    cb.addEventListener('mousemove', function(ev) {
        mouse.x = ev.clientX;
        mouse.y = ev.clientY;
        mouse.pivotX = mouse.x - board.pivot.x - canvasOffset.x;
        mouse.pivotY = mouse.y - board.pivot.y - canvasOffset.y;
        tool.onToolMove();
        mouse.lastX = mouse.x;
        mouse.lastY = mouse.y;
        if (isShowMagnifier)
            drawMagnifierCanvas();
    }, false);

    cb.addEventListener('mousedown', function(ev) {
        mouse.x = ev.clientX;
        mouse.y = ev.clientY;
        mouse.lastX = mouse.x;
        mouse.lastY = mouse.y;
        mouse.pivotX = mouse.x - board.pivot.x - canvasOffset.x;
        mouse.pivotY = mouse.y - board.pivot.y - canvasOffset.y;
        mouse.isDown = true;
        tool.onToolDown(false);
        toggleLayout(false);
    }, false);

    cb.addEventListener('mouseup', function(ev) {
        mouse.lastX = 0;
        mouse.lastY = 0;
        mouse.isDown = false;
        tool.onToolUp();
        if (isShowMagnifier)
            drawMagnifierCanvas();
        toggleLayout(true);
    }, false);

    cb.addEventListener('contextmenu', function(ev) {
        ev.preventDefault();
    }, false);
    
    cb.addEventListener('touchmove', function(ev) {
        mouse.x = ev.touches[0].clientX;
        mouse.y = ev.touches[0].clientY;
        mouse.pivotX = mouse.x - board.pivot.x - canvasOffset.x;
        mouse.pivotY = mouse.y - board.pivot.y - canvasOffset.y;
        tool.onToolMove();
        mouse.lastX = mouse.x;
        mouse.lastY = mouse.y;
        if (isShowMagnifier)
            drawMagnifierCanvas();
    }, false);

    cb.addEventListener('touchstart', function(ev) {
        mouse.x = ev.touches[0].clientX;
        mouse.y = ev.touches[0].clientY;
        mouse.lastX = mouse.x;
        mouse.lastY = mouse.y;
        mouse.pivotX = mouse.x - board.pivot.x - canvasOffset.x;
        mouse.pivotY = mouse.y - board.pivot.y - canvasOffset.y;
        mouse.isDown = true;
        tool.onToolDown(true);
        toggleLayout(false);
    }, false);

    cb.addEventListener('touchend', function(ev) {
        mouse.lastX = 0;
        mouse.lastY = 0;
        mouse.isDown = false;
        tool.onToolUp();
        if (isShowMagnifier)
            drawMagnifierCanvas();
        toggleLayout(true);
    }, false);

    window.addEventListener("resize", function() {
        cg.width = window.innerWidth;
        cg.height = window.innerHeight;
        cb.width = window.innerWidth;
        cb.height = window.innerHeight;
        ch.width = window.innerWidth;
        ch.height = window.innerHeight;
        drawGridCanvas();
        board.recenter();
    }, false);

    function fileHandler(file) {
        const ext = file.name.split('.').pop().toLowerCase(); //ext|exts
        const url = URL.createObjectURL(file);
        const reader = new FileReader();
        reader.onload = function() {
            if (ext === 'pmk') loadProject(reader.result);
            if (['jpg','png'].includes(ext)) importImage(reader.result);
            URL.revokeObjectURL(url);
        }
        if (ext === 'pmk') {
            reader.readAsText(file);
        } else {
            reader.readAsDataURL(file);
        }
    }

    function dropHandler(ev) {
        ev.preventDefault();
        fileHandler(ev.dataTransfer.files[0]);
    }
    function dragHandler(ev) {
        ev.preventDefault();
    }
    function dragLeaveHandler(ev) {
        ev.preventDefault();
    }

    document.getElementById('openfile_pmk').addEventListener("change", function (ev) {
        if (ev.target.files.length > 0)
            fileHandler(ev.target.files[0]);
    }, false);

    document.getElementById('openfile_img').addEventListener("change", function (ev) {
        if (ev.target.files.length > 0)
            fileHandler(ev.target.files[0]);
    }, false);

    window.addEventListener("keyup", function (ev) {
        switch (ev.key) {
            case 'm':
                toggleMagnifier();
                break;
        }
        if (ev.ctrlKey && ev.key === 'z') memory.undo();
        if (ev.ctrlKey && ev.key === 'x') memory.redo();
    }, false);


    // -------------------------------------------------------
    // Canvases


    function drawGridCanvas() {
        cg.style.background = inputBgColor.value;
        ctxg.clearRect(0, 0, cg.width, cg.height);
        ctxg.save();
        ctxg.translate(0.5, 0.5);
        ctxg.beginPath();
        for (let x = 0; x <= cg.width; x += tool.size) {
            ctxg.moveTo(Math.floor(x), 0);
            ctxg.lineTo(Math.floor(x), cg.height);
        }
        for (let y = 0; y <= cg.height; y += tool.size) {
            ctxg.moveTo(0, Math.floor(y));
            ctxg.lineTo(cg.width, Math.floor(y));
        }
        ctxg.strokeStyle = '#ffffff05';
        ctxg.lineWidth = 1;
        ctxg.stroke();
        ctxg.translate(-0.5, -0.5);
        ctxg.restore();
    }

    function drawMagnifierCanvas() {
        const zoom = 300;
        const pos = { x: mouse.x - (zoom / 18.5), y: mouse.y - (zoom / 18.5) };
        ctxm.clearRect(0, 0, cm.width, cm.height);
        ctxm.msImageSmoothingEnabled = false;
        ctxm.mozImageSmoothingEnabled = false;
        ctxm.webkitImageSmoothingEnabled = false;
        ctxm.imageSmoothingEnabled = false;
        ctxm.drawImage(cg, pos.x, pos.y, cm.width,cm.height, 0,0, zoom,zoom);
        ctxm.drawImage(cb, pos.x, pos.y, cm.width,cm.height, 0,0, zoom,zoom);
        ctxm.drawImage(ch, pos.x, pos.y, cm.width,cm.height, 0,0, zoom,zoom);
    }

    function toggleMagnifier() {
        isShowMagnifier = !isShowMagnifier;
        if (isShowMagnifier) {
            cm.style.display = 'unset';
        } else {
            cm.style.display = 'none';
        }
    }

    function toggleDynamicPalette() {
        isShowDynamicPalette = !isShowDynamicPalette;
        if (isShowDynamicPalette) {
            document.getElementById('dynamicpalette').style.display = 'unset';
        } else {
            document.getElementById('dynamicpalette').style.display = 'none';
        }
    }


    // -------------------------------------------------------
    // User Interface


    let isShowMenu = false;
    let isShowPrefs = false;
    let isShowStorage = false;
    let isShowFilters = false;

    function showMenu() {
        const menu = document.getElementById('menumain');
        isShowMenu = !isShowMenu;
        if (isShowMenu) {
            if (isShowPrefs) showPrefs();
            if (isShowStorage) showStorage();
            if (isShowFilters) showFilters();
            menu.style.transform = 'translate(37px, 0)';
        } else {
            menu.style.transform = 'translate(37px, -500px)';
        }
    }

    function showPrefs() {
        const menu = document.getElementById('menuprefs');
        isShowPrefs = !isShowPrefs;
        if (isShowPrefs) {
            if (isShowMenu) showMenu();
            if (isShowStorage) showStorage();
            if (isShowFilters) showFilters();
            menu.style.transform = 'translate(37px, 0)';
        } else {
            menu.style.transform = 'translate(37px, -500px)';
        }
    }

    function showStorage() {
        const menu = document.getElementById('menustorage');
        isShowStorage = !isShowStorage;
        if (isShowStorage) {
            if (isShowMenu) showMenu();
            if (isShowPrefs) showPrefs();
            if (isShowFilters) showFilters();
            menu.style.transform = 'translate(37px, 0)';
            createStorages();
        } else {
            menu.style.transform = 'translate(37px, -500px)';
        }
    }

    function showFilters() {
        const menu = document.getElementById('menufilters');
        isShowFilters = !isShowFilters;
        if (isShowFilters) {
            if (isShowMenu) showMenu();
            if (isShowPrefs) showPrefs();
            if (isShowStorage) showStorage();
            menu.style.transform = 'translate(37px, 0)';
        } else {
            menu.style.transform = 'translate(37px, -500px)';
        }
    }

    let xOffset = 0, yOffset = 0;
    function dragElement(elem) {
        let active = false;
        let currentX, currentY, initialX, initialY;

        // prevent fast-dragging problem with background elements
        document.body.addEventListener("mousedown", dragStart, false);
        document.body.addEventListener("mouseup", dragEnd, false);
        document.body.addEventListener("mousemove", drag, false);
        document.body.addEventListener("touchstart", dragStart, false);
        document.body.addEventListener("touchend", dragEnd, false);
        document.body.addEventListener("touchmove", drag, false);
        function dragStart(e) {
            if (e.type === "touchstart") {
                initialX = e.touches[0].clientX - xOffset;
                initialY = e.touches[0].clientY - yOffset;
            } else {
                initialX = e.clientX - xOffset;
                initialY = e.clientY - yOffset;
            }
            if (e.target === elem) active = true;
        }
        function dragEnd(e) {
            initialX = currentX;
            initialY = currentY;
            active = false;
            document.body.removeEventListener("mousedown", dragStart, false);
            document.body.removeEventListener("mouseup", dragEnd, false);
            document.body.removeEventListener("mousemove", drag, false);
            document.body.removeEventListener("touchstart", dragStart, false);
            document.body.removeEventListener("touchend", dragEnd, false);
            document.body.removeEventListener("touchmove", drag, false);
        }
        function drag(e) {
            if (active) {
                if (e.type === "touchmove") {
                    currentX = e.touches[0].clientX - initialX;
                    currentY = e.touches[0].clientY - initialY;
                } else {
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                }
                xOffset = currentX;
                yOffset = currentY;
                setTranslate(currentX, currentY, elem.parentElement);
            }
        }
        function setTranslate(xPos, yPos, el) {
            el.style.transform = "translate3d(" + xPos + "px, " + yPos + "px, 0)";
        }
    }


    // -------------------------------------------------------
    // Functions


    function reset() {
        board = new Board();
        tool = new Tool();
        helper = new Helper();
        memory = new Memory();
        dynamicPalette.create();
        tool.selectButton('pencil', document.getElementById('startuptool'));
        tool.size = 10;
        inputProjectName.value = 'Untitled';
        inputToolSize.value = 4; // index of 10
        inputToolSize.previousElementSibling.innerHTML = 10;
        inputToolQuadSymm.checked = false;
        inputToolPreserveAlpha.checked = true;
        inputToolSprayRadius.value = 30;
        inputToolCycloneVelocity.value = 0.03;
        inputToolGravityVelocity.value = 0.015;
        inputBgColor.value = '#2F333C';
        cg.style.background = inputBgColor.value;
        setColor('#CD5C5C');
    }

    function clearBoard() {
        if (!confirm("Are you sure?")) return;
        board = new Board();
        helper = new Helper();
        memory = new Memory();
        dynamicPalette.create();
    }

    function recenter() {
        board.recenter();
        helper.bbox();
    }

    function setColor(hex) {
        currentColor = hex;
        inputColor.value = hex;
    }

    function filterSepia(pixels) {
        let rgb = null;
        for (let i = 0; i < pixels.length; i++) {
            rgb = hexToRgbInt(pixels[i].color);
            pixels[i].color = rgbIntToHex(
                Math.min(Math.round(0.393 * rgb.r + 0.769 * rgb.g + 0.189 * rgb.b), 255),
                Math.min(Math.round(0.349 * rgb.r + 0.686 * rgb.g + 0.168 * rgb.b), 255),
                Math.min(Math.round(0.272 * rgb.r + 0.534 * rgb.g + 0.131 * rgb.b), 255)
            );
        }
        memory.record();
    }

    function filterGrayscale(pixels) {
        let rgb = null;
        for (let i = 0; i < pixels.length; i++) {
            rgb = hexToRgbInt(pixels[i].color);
            pixels[i].color = rgbIntToHex(
                (rgb.r + rgb.g + rgb.b) / 3,
                (rgb.r + rgb.g + rgb.b) / 3,
                (rgb.r + rgb.g + rgb.b) / 3
            );
        }
        memory.record();
    }

    function filterInvert(pixels) {
        let rgb = null;
        for (let i = 0; i < pixels.length; i++) {
            rgb = hexToRgbInt(pixels[i].color);
            pixels[i].color = rgbIntToHex(
                255 - rgb.r,
                255 - rgb.g,
                255 - rgb.b
            );
        }
        memory.record();
    }

    function translateCanvas(canvas) {
        canvasOffset.x = canvas.offsetLeft - (mouse.lastX - mouse.x);
        canvasOffset.y = canvas.offsetTop - (mouse.lastY - mouse.y);
        canvas.style.left = canvasOffset.x + "px";
        canvas.style.top = canvasOffset.y + "px";
        canvas.style.border = 'dotted 1px aqua';
        setTimeout(() => {
            canvas.style.border = 'none';
        }, 1000);
    }

    function bakeCanvas(canvas) {
        board.calcBoundingBox();
        const c = document.createElement('canvas');
        c.width = board.w;
        c.height = board.h; // crop to content
        c.getContext('2d').drawImage(canvas, board.pivot.x+board.x, board.pivot.y+board.y, board.w, board.h, 0, 0, c.width, c.height);
        return c;
    }

    function bakeCanvasScaled(canvas, width, height) {
        const org = bakeCanvas(canvas);
        const c = document.createElement('canvas');
        const aspect = aspectRatioFit(org.width, org.height, width-5, height-5); // -padding
        c.width = width;
        c.height = height; // resize to aspect
        c.getContext('2d').drawImage(org, (width-aspect.width)/2, (height-aspect.height)/2, aspect.width, aspect.height);
        return c;
    }

    function debugBoard() {
        board.calcBoundingBox();

        ctx.fillStyle = 'red';
        ctx.fillRect(board.origin.x-5/2, board.origin.y-5/2, 5, 5);
        ctx.fillStyle = 'green';
        ctx.fillRect(board.pivot.x-5/2, board.pivot.y-5/2, 5, 5);
        ctx.fillStyle = 'blue';
        ctx.fillRect(board.center.x-5/2, board.center.y-5/2, 5, 5);

        ctx.save();
        ctx.translate(0.5, 0.5); //res fix
        ctx.setLineDash([2, 2]);
        ctx.strokeStyle = 'yellow';
        ctx.strokeRect(board.pivot.x+board.x, board.pivot.y+board.y, board.w, board.h);
        ctx.setLineDash([]);
        ctx.translate(-0.5, -0.5);
    }

    function toggleLayout(visible) {
        if (visible) {
            document.getElementById('hover').style.pointerEvents = 'unset';
            document.getElementById('input-color').style.pointerEvents = 'unset';
            document.getElementById('dynamicpalette').style.pointerEvents = 'unset';
            document.getElementById('palette').style.pointerEvents = 'unset';
            document.getElementById('toolbar_R').style.pointerEvents = 'unset';
            document.getElementById('toolbar_C').style.pointerEvents = 'unset';
            document.getElementById('toolbar_L').style.pointerEvents = 'unset';
            document.getElementById('toolbar_B').style.pointerEvents = 'unset';
            document.getElementById('info').style.pointerEvents = 'unset';
        } else {
            document.getElementById('hover').style.pointerEvents = 'none';
            document.getElementById('input-color').style.pointerEvents = 'none';
            document.getElementById('dynamicpalette').style.pointerEvents = 'none';
            document.getElementById('palette').style.pointerEvents = 'none';
            document.getElementById('toolbar_R').style.pointerEvents = 'none';
            document.getElementById('toolbar_C').style.pointerEvents = 'none';
            document.getElementById('toolbar_L').style.pointerEvents = 'none';
            document.getElementById('toolbar_B').style.pointerEvents = 'none';
            document.getElementById('info').style.pointerEvents = 'none';
        }
    }
    
    
    // -------------------------------------------------------
    // Utils


    function floor(x, y, size) {
        return {
            x: size * ~~(x / size),
            y: size * ~~(y / size)
        }
    }

    function isIntersectRectsSize(rect1, rect2) {
        return (rect1.x < rect2.x + rect2.w &&
                rect1.x + rect1.w > rect2.x &&
                rect1.y < rect2.y + rect2.h &&
                rect1.y + rect1.h > rect2.y);
    }

    function isIntersectRects(rect1, rect2) {
        return !(rect2.x > rect1.w ||
                 rect2.w < rect1.x ||
                 rect2.y > rect1.h ||
                 rect2.h < rect1.y);
    }

    function isPointInRect(rect, point) {
        return (point.x > rect.x &&
                point.x < rect.x + rect.w &&
                point.y > rect.y &&
                point.y < rect.y + rect.h);
    }

    function isIntersectColor(x, y, color) {
        return getCanvasColor(ctx, x, y) === color;
    }

    function getCanvasColorPremultiplied(context, x, y) {
        const data = context.getImageData(x, y, 1, 1).data;
        const a = data[3] / 255 + 0.1; // TODO prototype
        const r = data[0] * a;
        const g = data[1] * a;
        const b = data[2] * a;
        return rgbIntToHex(r, g, b);
    }

    function getCanvasColor(context, x, y) {
        const data = context.getImageData(x, y, 1, 1).data;
        return rgbIntToHex(data[0], data[1], data[2]);
    }

    function getCanvasAlpha(context, x, y) {
        const data = context.getImageData(x, y, 1, 1).data;
        return (data[3] / 255).toFixed(1);
    }

    function rgbIntToHex(r, g, b) {
        return '#' + (0x1000000 + b | (g << 8) | (r << 16)).toString(16).slice(1).toUpperCase();
    }

    const rgbaIntToHex = (rgba) => `#${rgba.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((n, i) => (i === 3 ? Math.round(parseFloat(n) * 255) : parseFloat(n)).toString(16).padStart(2, '0').replace('NaN', '')).join('')}`

    function hexToRgbInt(hex) {
        const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        return result ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
        } : null;
    }

    function shadeColor(color, percent) {
        let R = parseInt(color.substring(1,3),16);
        let G = parseInt(color.substring(3,5),16);
        let B = parseInt(color.substring(5,7),16);

        R = parseInt(R * (100 + percent) / 100);
        G = parseInt(G * (100 + percent) / 100);
        B = parseInt(B * (100 + percent) / 100);
        R = (R<255)?R:255;  
        G = (G<255)?G:255;  
        B = (B<255)?B:255;  

        let RR = ((R.toString(16).length==1)?"0"+R.toString(16):R.toString(16));
        let GG = ((G.toString(16).length==1)?"0"+G.toString(16):G.toString(16));
        let BB = ((B.toString(16).length==1)?"0"+B.toString(16):B.toString(16));
        return "#"+RR+GG+BB;
    }

    function randomRangeFloat(min, max) {
        return Math.random() * (max - min) + min;
    }

    function aspectRatioFit(srcW, srcH, maxW, maxH) {
        const ratio = Math.min(maxW / srcW, maxH / srcH);
        return { width: srcW * ratio, height: srcH * ratio };
    }

    function plotLine(tolerance, Ax,Ay, Bx,By) {
        const dx = Bx - Ax;
        const dy = By - Ay;
        const ptCount = parseInt(Math.sqrt(dx*dx + dy*dy)) * 3;
        let lastX = -10000;
        let lastY = -10000;
        let pts = [{ x: Ax, y: Ay }];
        let t, x, y, dx1, dy1;
        for (let i = 1; i <= ptCount; i++) {
            t = i / ptCount;
            x = Ax + dx * t;
            y = Ay + dy * t;
            dx1 = x - lastX;
            dy1 = y - lastY;
            if (dx1*dx1 + dy1*dy1 > tolerance) {
                pts.push({ x: x, y: y });
                lastX = x;
                lastY = y;
            }
        }
        pts.push({ x: Bx, y: By });
        return pts;
    }

    function downloadPNG(canvas, filename) {
        const link = document.createElement("a");
        link.download = filename;
        link.href = canvas.toDataURL("image/png");
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }

    function downloadText(txt, filename) {
        const blob = new Blob([ txt ], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = filename;
        a.click();
        URL.revokeObjectURL(url);
    }

    function clipboardBase64(canvas) {
        const input = document.createElement('input');
        input.type = 'image/png';
        input.value = canvas.toDataURL('image/png');
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
    }

    function clipboard(str) {
        const input = document.createElement('input');
        input.type = 'text';
        input.value = str;
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
    }

    function toggleFullscreen() {
        if (document.fullscreenElement) {
            document.exitFullscreen();
        } else {
            document.body.requestFullscreen();
        }
    }


    // -------------------------------------------------------
    // Startup


    loadProject(`410,260,10,#CD5C5C,1
                420,260,10,#CD5C5C,1
                430,260,10,#CD5C5C,1
                440,260,10,#CD5C5C,1
                440,270,10,#CD5C5C,1
                440,290,10,#CD5C5C,1
                430,290,10,#CD5C5C,1
                420,290,10,#CD5C5C,1
                410,290,10,#CD5C5C,1
                410,280,10,#CD5C5C,1
                410,270,10,#CD5C5C,1
                390,260,10,#CD5C5C,1
                380,260,10,#CD5C5C,1
                370,260,10,#CD5C5C,1
                360,260,10,#CD5C5C,1
                360,270,10,#CD5C5C,1
                360,280,10,#CD5C5C,1
                360,290,10,#CD5C5C,1
                410,310,10,#CD5C5C,1
                420,310,10,#CD5C5C,1
                430,310,10,#CD5C5C,1
                440,310,10,#CD5C5C,1
                440,320,10,#CD5C5C,1
                440,330,10,#CD5C5C,1
                440,340,10,#CD5C5C,1
                430,340,10,#CD5C5C,1
                420,340,10,#CD5C5C,1
                410,340,10,#CD5C5C,1
                410,330,10,#CD5C5C,1
                410,320,10,#CD5C5C,1
                390,340,10,#CD5C5C,1
                380,340,10,#CD5C5C,1
                370,340,10,#CD5C5C,1
                360,340,10,#CD5C5C,1
                360,330,10,#CD5C5C,1
                360,320,10,#CD5C5C,1
                360,310,10,#CD5C5C,1
                440,280,10,#CD5C5C,1
                390,330,10,#CD5C5C,1
                390,320,10,#CD5C5C,1
                390,280,10,#CD5C5C,1
                390,270,10,#CD5C5C,1
                390,290,10,#CD5C5C,1
                380,290,10,#CD5C5C,1
                370,290,10,#CD5C5C,1
                390,310,10,#CD5C5C,1
                380,310,10,#CD5C5C,1
                370,310,10,#CD5C5C,1
                380,270,10,#FFA3A3,1
                430,270,10,#FFA3A3,1
                430,320,10,#FFA3A3,1
                380,320,10,#FFA3A3,1
                420,270,10,#F37F7F,1
                420,280,10,#F37F7F,1
                430,280,10,#F37F7F,1
                370,270,10,#F37F7F,1
                370,280,10,#F37F7F,1
                380,280,10,#F37F7F,1
                370,320,10,#F37F7F,1
                370,330,10,#F37F7F,1
                380,330,10,#F37F7F,1
                420,320,10,#F37F7F,1
                420,330,10,#F37F7F,1
                430,330,10,#F37F7F,1
                360,300,10,#292929,1
                370,300,10,#292929,1
                380,300,10,#292929,1
                390,300,10,#292929,1
                410,300,10,#292929,1
                420,300,10,#292929,1
                430,300,10,#292929,1
                440,300,10,#292929,1
                400,260,10,#292929,1
                400,270,10,#292929,1
                400,280,10,#292929,1
                400,290,10,#292929,1
                400,300,10,#292929,1
                400,310,10,#292929,1
                400,320,10,#292929,1
                400,330,10,#292929,1
                400,340,10,#292929,1
                360,250,10,#292929,1
                370,250,10,#292929,1
                380,250,10,#292929,1
                390,250,10,#292929,1
                400,250,10,#292929,1
                410,250,10,#292929,1
                420,250,10,#292929,1
                430,250,10,#292929,1
                440,250,10,#292929,1
                450,250,10,#292929,1
                450,260,10,#292929,1
                450,270,10,#292929,1
                450,280,10,#292929,1
                450,290,10,#292929,1
                450,300,10,#292929,1
                450,310,10,#292929,1
                450,320,10,#292929,1
                450,330,10,#292929,1
                450,340,10,#292929,1
                450,350,10,#292929,1
                440,350,10,#292929,1
                430,350,10,#292929,1
                420,350,10,#292929,1
                410,350,10,#292929,1
                400,350,10,#292929,1
                390,350,10,#292929,1
                380,350,10,#292929,1
                370,350,10,#292929,1
                360,350,10,#292929,1
                350,350,10,#292929,1
                350,340,10,#292929,1
                350,330,10,#292929,1
                350,320,10,#292929,1
                350,310,10,#292929,1
                350,300,10,#292929,1
                350,290,10,#292929,1
                350,280,10,#292929,1
                350,270,10,#292929,1
                350,260,10,#292929,1
                350,250,10,#292929,1`);

</script>
</html>
